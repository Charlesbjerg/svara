{"version":3,"sources":["webpack:///./src/views/projects/index.vue?faf7","webpack:///./src/components/projects/FilterBar.vue?34f8","webpack:///./src/views/projects/index.vue","webpack:///./src/components/projects/FilterBar.vue","webpack:///./src/components/projects/FilterBar.vue?7d10","webpack:///./src/views/projects/index.vue?07c7"],"names":["class","title","subtitle","pageSubtitle","filterProjects","to","projects","project","index","key","for","type","id","name","placeholder","filterByName","autocomplete","label","url","filterKey","searchKey","addFilter","components","Autocomplete","data","meta","filters","keyupTimeout","methods","clearTimeout","this","setTimeout","value","self","filter","findIndex","item","push","filterResults","$store","commit","forEach","hasOwnProperty","console","log","$api","response","$emit","render","FilterBar","ProjectCard","PageHead","filteredResults","computed","length","mounted"],"mappings":"kKAAA,W,kCCAA,W,4DCCSA,MAAM,kB,+BACqD,yB,GACvDA,MAAM,W,+BAEoD,sB,GAEtDA,MAAM,Q,qPANnB,yBASM,MATN,EASM,CARF,yBAA4F,GAAlFC,MAAM,mBAAoBC,SAAU,EAAAC,c,+BAAc,iBAAqB,C,2BACjF,yBAGM,MAHN,EAGM,CAFF,yBAAuC,GAA1B,SAAQ,EAAAC,gBAAc,qBACnC,yBAA2F,GAA9EC,GAAG,mBAAmBL,MAAM,mB,+BAAkB,iBAAkB,C,cAEjF,yBAEU,UAFV,EAEU,E,2BADN,yBAAoF,2CAA3C,EAAAM,UAAQ,SAA3BC,EAASC,G,gCAA/B,yBAAoF,GAAhCC,IAAKD,EAAQD,QAASA,G,yHCPhFP,MAAM,e,GACLA,MAAM,a,EACV,yBAA8B,SAAvBU,IAAI,QAAO,QAAI,G,4GAFxB,yBAiBM,MAjBN,EAiBM,CAhBL,yBAGM,MAHN,EAGM,CAFL,E,4BACA,yBAA4H,SAArHC,KAAK,OAAOC,GAAG,O,qDAAgB,EAAAC,KAAI,IAAEC,YAAY,yBAA0B,QAAK,8BAAE,EAAAC,cAAA,EAAAA,aAAA,qBAAcC,aAAa,O,4BAA9E,EAAAH,UAEvC,yBAA2G,GAA7FI,MAAM,SAASC,IAAI,cAAcC,UAAU,SAASC,UAAU,OAAQ,WAAU,EAAAC,W,uBAE9F,yBAAkI,GAApHJ,MAAM,eAAeC,IAAI,0BAA0BC,UAAU,cAAcC,UAAU,OAAQ,WAAU,EAAAC,W,uEAgBxG,GACdR,KAAM,YACNS,WAAY,CACXC,eAAA,MAEDC,KALc,WAMb,MAAO,CACNX,KAAM,GACNY,KAAM,KACNC,QAAS,GACTC,aAAc,OAGhBC,QAAS,CACRb,aADQ,WACO,WACdc,aAAaC,KAAKH,cAClBG,KAAKH,aAAeI,YAAW,WAC9B,EAAKV,UAAU,CAACZ,IAAK,OAAQuB,MAAOC,KAAKpB,SACvC,MAEJQ,UAPQ,SAOEa,GAET,IAAM1B,EAAQsB,KAAKJ,QAAQS,WAAU,SAAAC,GAAG,OAAKA,EAAK3B,MAAQyB,EAAOzB,QAClD,IAAXD,EACHsB,KAAKJ,QAAQlB,GAAOwB,MAAQE,EAAOF,MAEnCF,KAAKJ,QAAQW,KAAKH,GAGnBJ,KAAKQ,iBAEAA,cAlBE,WAkBc,uKACrB,EAAKC,OAAOC,OAAO,qBAGfd,EAAU,GACd,EAAKA,QAAQe,SAAQ,SAAAP,GAChBA,EAAOF,MAAMU,eAAe,MAC/BhB,EAAQQ,EAAOzB,KAAOyB,EAAOF,MAAMpB,GAEnCc,EAAQQ,EAAOzB,KAAOyB,EAAOF,SAG/BW,QAAQC,IAAIlB,GAZS,SAeE,EAAKmB,KAAK,sBAAwB,MAAOnB,GAf3C,OAefoB,EAfe,OAgBrB,EAAKC,MAAM,SAAUD,EAAStB,MAC9B,EAAKe,OAAOC,OAAO,sBAjBE,gD,UClDxB,EAAOQ,OAAS,EAED,QFYA,GACXnC,KAAM,gBACNS,WAAY,CACd2B,YACMC,cAAA,KACAC,WAAA,MAEP3B,KAPc,WAQV,MAAO,CACN4B,gBAAiB,KAGnBC,SAAU,iCACH,eAAW,CACV/C,SAAU,6BAFV,IAIJH,aAJM,WAKF,oCAA8B2B,KAAKxB,SAASgD,OAA5C,uBAGFC,QApBK,WAoBK,qKACZ,EAAKhB,OAAOC,OAAO,qBADP,SAEW,EAAKK,KAAK,eAAgB,OAFrC,OAENC,EAFM,OAGZ,EAAKP,OAAOC,OAAO,uBAAwBM,EAAStB,MACpD,EAAKe,OAAOC,OAAO,sBAJP,8CAMnBZ,QAAS,CACLxB,eADK,SACUE,GACjBwB,KAAKS,OAAOC,OAAO,uBAAwBlC,M,UG1C9C,EAAO0C,OAASA,EAED","file":"js/chunk-ef12ddb4.07658bb3.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=07bb8446&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FilterBar.vue?vue&type=style&index=0&id=96bd25c2&lang=scss\"","<template>\r\n    <div class=\"projects-index\">\r\n        <PageHead title=\"Ongoing Projects\" :subtitle=\"pageSubtitle\">A Graph Might go Here</PageHead>\r\n        <div class=\"filters\">\r\n            <filter-bar @update=\"filterProjects\" />\r\n            <router-link to=\"/projects/create\" class=\"btn btn-default\">Create New Project</router-link>\r\n        </div>\r\n        <section class=\"grid\">\r\n            <project-card v-for=\"(project, index) in projects\" :key=\"index\" :project=\"project\"/>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport ProjectCard from \"@/components/projects/ProjectCard\";\r\nimport PageHead from \"@/components/common/PageHead\";\r\nimport FilterBar from \"../../components/projects/FilterBar\";\r\n\r\nexport default {\r\n    name: \"ProjectsIndex\",\r\n    components: {\r\n\t\tFilterBar,\r\n        ProjectCard,\r\n        PageHead,\r\n    },\r\n\tdata() {\r\n    \treturn {\r\n    \t\tfilteredResults: [],\r\n\t\t}\r\n\t},\r\n    computed: {\r\n        ...mapGetters({\r\n            projects: 'projects/getAllProjects',\r\n        }),\r\n        pageSubtitle() {\r\n            return `There are currently ${this.projects.length} in the pipeline`;\r\n        }\r\n    },\r\n    async mounted() {\r\n        this.$store.commit('util/enableLoader');\r\n        const response = await this.$api('api/projects', 'GET');\r\n        this.$store.commit('projects/setProjects', response.data);\r\n        this.$store.commit('util/disableLoader');\r\n    },\r\n\tmethods: {\r\n    \tfilterProjects(projects) {\r\n\t\t\tthis.$store.commit('projects/setProjects', projects);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n    gap: 20px;\r\n    @include custom-scrollbar;\r\n}\r\n.filters {\r\n    margin-bottom: 2rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\t.btn {\r\n\t\tflex-basis: 220px;\r\n\t\tmax-width: 220px;\r\n\t\tmargin-left: 30px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"filter-bar\">\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"name\">Name</label>\r\n\t\t\t<input type=\"text\" id=\"name\" v-model=\"name\" placeholder=\"Search by Project Name\" @keyup=\"filterByName\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<autocomplete label=\"Client\" url=\"api/clients\" filterKey=\"client\" searchKey=\"name\" @selected=\"addFilter\" />\r\n<!--\t\t<autocomplete label=\"Account Manager\" url=\"api/users/account-managers\" filterKey=\"accountManager\" searchKey=\"name\" @selected=\"addFilter\" />-->\r\n\t\t<autocomplete label=\"Project Lead\" url=\"api/users/project-leads\" filterKey=\"projectLead\" searchKey=\"name\" @selected=\"addFilter\" />\r\n<!--\t\t<div class=\"form-item\">-->\r\n<!--\t\t\t<label for=\"name\">Meta</label>-->\r\n<!--\t\t\t<select id=\"meta\" v-model=\"meta\">-->\r\n<!--\t\t\t\t<option value=\"null\" disabled selected>Select an Option</option>-->\r\n<!--\t\t\t</select>-->\r\n<!--\t\t\t<button aria-label=\"Flip sort order\">-->\r\n<!--\t\t\t\t<i class=\"fas fa-sort-amount-up\"></i>-->\r\n<!--\t\t\t</button>-->\r\n<!--\t\t</div>-->\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Autocomplete from \"./Autocomplete\";\r\n\r\nexport default {\r\n\tname: \"FilterBar\",\r\n\tcomponents: {\r\n\t\tAutocomplete\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tmeta: null,\r\n\t\t\tfilters: [],\r\n\t\t\tkeyupTimeout: null,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tfilterByName() {\r\n\t\t\tclearTimeout(this.keyupTimeout);\r\n\t\t\tthis.keyupTimeout = setTimeout(() => {\r\n\t\t\t\tthis.addFilter({key: 'name', value: self.name })\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\taddFilter(filter) {\r\n\t\t\t// Update or add new filter to array\r\n\t\t\tconst index = this.filters.findIndex(item => item.key === filter.key);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.filters[index].value = filter.value;\r\n\t\t\t} else {\r\n\t\t\t\tthis.filters.push(filter);\r\n\t\t\t}\r\n\t\t\t// Update projects\r\n\t\t\tthis.filterResults();\r\n\t\t},\r\n\t\tasync filterResults() {\r\n\t\t\tthis.$store.commit('util/enableLoader');\r\n\r\n\t\t\t// Give filters correct key/values\r\n\t\t\tlet filters = [];\r\n\t\t\tthis.filters.forEach(filter => {\r\n\t\t\t\tif (filter.value.hasOwnProperty('id')) {\r\n\t\t\t\t\tfilters[filter.key] = filter.value.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilters[filter.key] = filter.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconsole.log(filters);\r\n\r\n\t\t\t// Fetch data and emit update to parent\r\n\t\t\tconst response = await this.$api('api/projects/filter' , 'GET', filters);\r\n\t\t\tthis.$emit('update', response.data);\r\n\t\t\tthis.$store.commit('util/disableLoader');\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.filter-bar {\r\n\twidth: 100%;\r\n\tmargin-right: 30px;\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 300px));\r\n\tgap: 30px;\r\n\t.form-item {\r\n\t\tmargin: 0;\r\n\t}\r\n\t.form-item label {\r\n\t\tfont-size: 0.001px;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./FilterBar.vue?vue&type=template&id=96bd25c2\"\nimport script from \"./FilterBar.vue?vue&type=script&lang=js\"\nexport * from \"./FilterBar.vue?vue&type=script&lang=js\"\n\nimport \"./FilterBar.vue?vue&type=style&index=0&id=96bd25c2&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=07bb8446\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=07bb8446&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f1678c1"],{"2d9a":function(e,t,c){},3251:function(e,t,c){},6947:function(e,t,c){"use strict";c("3251")},e017:function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),n={key:0,class:"clients-single"},o={class:"client-top-info"},r={key:0},l=Object(a["createVNode"])("h3",null,"Main Contact",-1),i=Object(a["createVNode"])("h3",null,"Account Manager",-1),s=Object(a["createVNode"])("h3",null,"Project Info",-1),d={class:"info-card"},u={class:"info-card__item"},b={class:"client-info"},j={class:"client-info__users"},p=Object(a["createVNode"])("h2",null,"Client Users",-1),m={key:1,class:"client-info__users-none"},O=Object(a["createVNode"])("h3",null,"This client currently has no user accounts setup.",-1),f=Object(a["createTextVNode"])(" Add Client User "),h=Object(a["createVNode"])("i",{class:"fas fa-user-plus"},null,-1),k={key:0,class:"client-projects"},v={key:1,class:"client-no-projects"},V=Object(a["createVNode"])("h3",null,"This client is yet to commission any projects.",-1);function N(e,t,c,N,y,C){var B=Object(a["resolveComponent"])("page-head"),g=Object(a["resolveComponent"])("staff-member-card"),w=Object(a["resolveComponent"])("mini-project-card"),_=Object(a["resolveComponent"])("add-client-user"),U=Object(a["resolveComponent"])("action-modal");return y.data?(Object(a["openBlock"])(),Object(a["createBlock"])("div",n,[Object(a["createVNode"])(B,{title:y.data.client.name,subtitle:""},null,8,["title"]),Object(a["createVNode"])("div",o,[null!==y.data.client.mainContact?(Object(a["openBlock"])(),Object(a["createBlock"])("div",r,[l,Object(a["createVNode"])(g,{user:y.data.client.mainContact},null,8,["user"])])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("div",null,[i,Object(a["createVNode"])(g,{user:y.data.client.accountManager},null,8,["user"])]),Object(a["createVNode"])("div",null,[s,Object(a["createVNode"])("div",d,[Object(a["createVNode"])("p",u,"Total Projects: "+Object(a["toDisplayString"])(y.data.projectCount),1)])])]),Object(a["createVNode"])("div",b,[Object(a["createVNode"])("aside",j,[p,y.data.client.members.length>0?(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],{key:0},Object(a["renderList"])(y.data.client.members,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:t,user:e,mainUser:e.id===y.data.client.mainContactId},null,8,["user","mainUser"])})),128)):(Object(a["openBlock"])(),Object(a["createBlock"])("div",m,[O])),Object(a["createVNode"])("button",{class:"btn btn-default",onClick:t[1]||(t[1]=function(e){return y.newUserModal=!0})},[f,h])]),y.data.client.projects.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("section",k,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(y.data.client.projects,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:t,project:e,hideClient:!0},null,8,["project"])})),128))])):(Object(a["openBlock"])(),Object(a["createBlock"])("section",v,[V]))]),y.newUserModal?(Object(a["openBlock"])(),Object(a["createBlock"])(U,{key:0,title:"Add Client User Account",onClose:t[2]||(t[2]=function(e){return y.newUserModal=!1})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(_,{onUpdate:C.updateUsers,client:y.data.client},null,8,["onUpdate","client"])]})),_:1})):Object(a["createCommentVNode"])("",!0)])):Object(a["createCommentVNode"])("",!0)}c("96cf");var y=c("1da1"),C=c("4a6a"),B={key:0,class:"mp-card"},g={class:"mp-card__head"},w={class:"mp-card__title"},_={class:"state state--overdue"},U={class:"mp-card__main"},M={key:0},S={class:"mp-card__meta"};function x(e,t,c,n,o,r){var l=Object(a["resolveComponent"])("router-link");return c.project?(Object(a["openBlock"])(),Object(a["createBlock"])("article",B,[Object(a["createVNode"])(l,{to:"/projects/".concat(c.project.id),class:"mp-card__inner"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("header",g,[Object(a["createVNode"])("h3",w,Object(a["toDisplayString"])(c.project.name),1),Object(a["createVNode"])("span",_,Object(a["toDisplayString"])(r.state),1)]),Object(a["createVNode"])("div",U,[Object(a["createVNode"])("p",null,"Currently in the "+Object(a["toDisplayString"])(c.project.currentPhase.name)+" phase",1),c.project.projectLead?(Object(a["openBlock"])(),Object(a["createBlock"])("p",M,"Project is led by "+Object(a["toDisplayString"])(c.project.projectLead.name),1)):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("footer",S,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.project.meta,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])("span",{class:"mp-card__meta-item",key:t},Object(a["toDisplayString"])(e.key)+" "+Object(a["toDisplayString"])(e.value),1)})),128))])]})),_:1},8,["to"])])):Object(a["createCommentVNode"])("",!0)}var R={name:"MiniProjectCard",props:{project:{type:Object,required:!0}},computed:{state:function(){return this.project.state.state},projectUrl:function(){return"/projects/".concat(this.project.id)}}};c("f289");R.render=x;var A=R,D=c("e4e1"),T=c("053a"),I=Object(a["withScopeId"])("data-v-22bb865e");Object(a["pushScopeId"])("data-v-22bb865e");var P={class:"client-user"},F=Object(a["createVNode"])("p",null,"Add a user account for this particular client. This gives them access to their client information and projects within Svara.",-1),L={class:"form-item"},$=Object(a["createVNode"])("label",{for:"name"},"Full Name",-1),q={class:"form-item"},J=Object(a["createVNode"])("label",{for:"jobRole"},"Job Role",-1),E={class:"form-item"},G=Object(a["createVNode"])("label",{for:"email"},"Email Address",-1),H=Object(a["createVNode"])("p",null,"An email will be sent to the client user asking them to activate their account. They will then set their password and be able to use Svara.",-1),z=Object(a["createTextVNode"])(" Add Client User "),K=Object(a["createVNode"])("i",{class:"far fa-plus-square"},null,-1);Object(a["popScopeId"])();var Q=I((function(e,t,c,n,o,r){return Object(a["openBlock"])(),Object(a["createBlock"])("div",P,[F,Object(a["createVNode"])("div",L,[$,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.name=e}),placeholder:"Full Name",autocomplete:"off"},null,512),[[a["vModelText"],o.name]])]),Object(a["createVNode"])("div",q,[J,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",id:"jobRole","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.jobRole=e}),placeholder:"Graphic Designer",autocomplete:"off"},null,512),[[a["vModelText"],o.jobRole]])]),Object(a["createVNode"])("div",E,[G,Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"email",id:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.email=e}),placeholder:"dev@svara.io",autocomplete:"off"},null,512),[[a["vModelText"],o.email]])]),H,Object(a["createVNode"])("button",{class:"btn btn-default",onClick:t[4]||(t[4]=function(){return r.submit&&r.submit.apply(r,arguments)})},[z,K])])})),W={name:"AddClientUser",props:{client:{type:Object,required:!0}},data:function(){return{name:"",jobRole:"",email:"",type:3,team:null}},methods:{submit:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/auth/register","POST",{name:e.name,jobRole:e.jobRole,email:e.email,type:e.type,clientId:e.client.id});case 2:c=t.sent,c.data.success?(e.$emit("update",c.data.data),e.$emit("close")):console.log("Issue adding user");case 4:case"end":return t.stop()}}),t)})))()}}};W.render=Q,W.__scopeId="data-v-22bb865e";var X=W,Y={name:"ClientsSingle",components:{AddClientUser:X,ActionModal:T["a"],StaffMemberCard:D["a"],MiniProjectCard:A,PageHead:C["a"]},data:function(){return{data:null,newUserModal:!1}},mounted:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){var c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/clients/".concat(e.$route.params.id));case 2:c=t.sent,e.data=c.data;case 4:case"end":return t.stop()}}),t)})))()},methods:{updateUsers:function(e){this.data.client.members.push(e),this.newUserModal=!1}}};c("6947");Y.render=N;t["default"]=Y},f289:function(e,t,c){"use strict";c("2d9a")}}]);
//# sourceMappingURL=chunk-0f1678c1.70ea6611.js.map
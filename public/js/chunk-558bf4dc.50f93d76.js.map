{"version":3,"sources":["webpack:///./src/views/clients/create.vue?27ac","webpack:///./src/views/clients/create.vue","webpack:///./src/views/clients/create.vue?93dd"],"names":["class","for","title","type","id","name","findAccountManager","accountManagerResults","length","user","key","selectAccountManager","number","email","createClient","components","PageHead","data","accountManager","keypressTimeout","methods","e","clearTimeout","setTimeout","searchTerm","target","value","$api","response","this","document","getElementById","contact_email","contact_number","$router","push","render"],"mappings":"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","file":"js/chunk-558bf4dc.50f93d76.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./create.vue?vue&type=style&index=0&id=96ecd42e&lang=scss\"","<template>\r\n\t<div class=\"client-create\">\r\n\t\t<page-head title=\"Add new Client\"/>\r\n\t\t<div class=\"client-create__main\">\r\n\t\t\t<div class=\"panel client-create__inner\">\r\n\t\t\t\t<h2>Create a new Client in Svara</h2>\r\n\t\t\t\t<p>This is just the initial information about the client, each client user will be added after.</p>\r\n\t\t\t\t<div class=\"form-item--double\">\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<label for=\"name\">Company Name</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"name\" v-model=\"name\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<label for=\"accountManager\">Account Manager</label>\r\n\t\t\t\t\t\t<input type=\"text\" name=\"accountManager\" id=\"accountManager\" @keyup=\"findAccountManager\" />\r\n\t\t\t\t\t\t<div class=\"search-results\" v-if=\"accountManagerResults.length !== 0\">\r\n\t\t\t\t\t\t\t<article class=\"search-results__result\" v-for=\"user in accountManagerResults\" :key=\"user.id\"\r\n\t\t\t\t\t\t\t\t\t @click=\"selectAccountManager(user)\">\r\n\t\t\t\t\t\t\t\t<span class=\"search-results__name\">{{ user.name }}</span>\r\n\t\t\t\t\t\t\t\t<i class=\"far fa-check-circle\"></i>\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n<!--\t\t\t\t\t<div class=\"form-item\">-->\r\n<!--\t\t\t\t\t\t<label for=\"logo\">Logo</label>-->\r\n<!--\t\t\t\t\t\t<input type=\"file\" id=\"logo\" name=\"logo\" />-->\r\n<!--\t\t\t\t\t</div>-->\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"form-item--double\">\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<label for=\"name\">Contact Number</label>\r\n\t\t\t\t\t\t<input type=\"text\" id=\"number\" v-model=\"number\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"form-item\">\r\n\t\t\t\t\t\t<label for=\"name\">Contact Email</label>\r\n\t\t\t\t\t\t<input type=\"email\" id=\"email\" v-model=\"email\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"btn btn-default\" @click=\"createClient\">Create Client <i class=\"far fa-plus-square\"></i></button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport PageHead from \"../../components/common/PageHead\";\r\nexport default {\r\n\tcomponents: {\r\n\t\tPageHead\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\temail: '',\r\n\t\t\tnumber: '',\r\n\t\t\taccountManagerResults: [],\r\n\t\t\taccountManager: null,\r\n\t\t\tkeypressTimeout: null\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync findAccountManager(e) {\r\n\t\t\tclearTimeout(this.keypressTimeout);\r\n\t\t\tthis.keypressTimeout = await setTimeout(async () => {\r\n\t\t\t\tconst searchTerm = e.target.value;\r\n\t\t\t\tif (searchTerm !== \"\" && searchTerm.length >= 3) {\r\n\t\t\t\t\tconst response = await this.$api('api/users/staff', 'GET', {\r\n\t\t\t\t\t\tname: searchTerm,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.accountManagerResults = response.data;\r\n\t\t\t\t}\r\n\t\t\t}, 300);\r\n\t\t},\r\n\t\tselectAccountManager(user) {\r\n\t\t\tthis.accountManager = user;\r\n\t\t\tthis.accountManagerResults = [];\r\n\t\t\tdocument.getElementById('accountManager').value = user.name;\r\n\t\t},\r\n\t\tasync createClient() {\r\n\t\t\tconst response = await this.$api('api/clients', 'POST', {\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tcontact_email: this.email,\r\n\t\t\t\tcontact_number: this.number,\r\n\t\t\t\taccountManager: this.accountManager,\r\n\t\t\t});\r\n\t\t\tawait this.$router.push(`/clients/${response.data.id}`);\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.client-create {\r\n\t&__main {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding-top: 30px;\r\n\t}\r\n\t&__inner {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 1200px;\r\n\t\t//height: 900px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n}\r\n.search-results {\r\n\tpadding: 20px 10px;\r\n\tbackground-color: #fff;\r\n\tposition: absolute;\r\n\ttop: calc(100% + 5px);\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tmax-width: 300px;\r\n\tz-index: 5;\r\n\tborder: 2px solid $grey;\r\n\tborder-radius: $border-radius;\r\n\t@include box-shadow-hover;\r\n\t&__result {\r\n\t\tmargin-bottom: 5px;\r\n\t\tborder-radius: $border-radius;\r\n\t\tpadding: 5px 10px;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t@include transition-short;\r\n\t\t&:last-child {\r\n\t\t\tborder-bottom: 0;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\t&__result i {\r\n\t\topacity: 0;\r\n\t\tcolor: $accent-colour;\r\n\t\t@include transition-short;\r\n\t}\r\n\t&__name {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t&__result:hover {\r\n\t\tbackground-color: $light-grey;\r\n\t\ti {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./create.vue?vue&type=template&id=96ecd42e\"\nimport script from \"./create.vue?vue&type=script&lang=js\"\nexport * from \"./create.vue?vue&type=script&lang=js\"\n\nimport \"./create.vue?vue&type=style&index=0&id=96ecd42e&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
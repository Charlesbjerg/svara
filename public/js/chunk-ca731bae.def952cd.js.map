{"version":3,"sources":["webpack:///./src/views/Login.vue?e71f","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df"],"names":["class","ref","for","type","name","id","required","login","errorMessage","data","methods","e","preventDefault","$api","email","$refs","value","password","response","status","errors","Object","keys","forEach","elem","parentNode","classList","add","showError","message","$store","commit","user","$router","push","render"],"mappings":"2IAAA,W,4DCCOA,MAAM,mB,EAEP,yBAAc,UAAV,SAAK,G,SACJA,MAAM,aAA6CC,IAAI,U,GAGvDD,MAAM,a,EACT,yBAAgC,SAAzBE,IAAI,SAAQ,SAAK,G,GACjBC,KAAK,QAAQC,KAAK,QAAQC,GAAG,QAAQJ,IAAI,QAAQK,SAAA,I,GAErDN,MAAM,a,EACT,yBAAuC,SAAhCE,IAAI,YAAW,aAAS,G,GACxBC,KAAK,WAAWC,KAAK,WAAWC,GAAG,WAAWJ,IAAI,WAAWK,SAAA,I,GAEjEN,MAAM,iC,GACFE,IAAI,Y,GACFC,KAAK,WAAWC,KAAK,WAAWC,GAAG,WAAWJ,IAAI,Y,+BAAW,6B,EAIxE,yBAAwD,UAAhDD,MAAM,6BAA4B,SAAK,G,wDApBnD,yBAsBM,MAtBN,EAsBM,CArBJ,yBAoBO,QApBA,SAAM,8BAAE,EAAAO,OAAA,EAAAA,MAAA,qBAAOP,MAAM,a,CAC1B,EAC+C,K,KAAZQ,c,yBAAnC,yBAEM,MAFN,EAEM,CADJ,yBAA8B,2CAAnBA,cAAY,I,6CAEzB,yBAGM,MAHN,EAGM,CAFJ,EACA,yBAAiE,QAAjE,EAAiE,YAEnE,yBAGM,MAHN,EAGM,CAFJ,EACA,yBAA6E,QAA7E,EAA6E,YAE/E,yBAKM,MALN,EAKM,CAJJ,yBAGQ,QAHR,EAGQ,CAFN,yBAAoE,QAApE,EAAoE,U,MAIxE,G,8DAMS,GACbJ,KAAM,QACNK,KAFa,WAGX,MAAO,CACLD,aAAc,KAGlBE,QAAS,CACDH,MADC,SACKI,GAAG,uKACXA,EAAEC,iBADS,SAIY,EAAKC,KAAK,iBAAkB,OAAQ,CACzDC,MAAO,EAAKC,MAAMD,MAAME,MACxBC,SAAU,EAAKF,MAAME,SAASD,QANrB,OAILE,EAJK,OAUa,UAApBA,EAASC,QACLC,EAASC,OAAOC,KAAKJ,EAAST,KAAKW,QACzCA,EAAOG,SAAQ,SAAAC,GACb,EAAKT,MAAMS,GAAMC,WAAWC,UAAUC,IAAI,uBAE5C,EAAKC,UAAUV,EAASW,WAExB,EAAKC,OAAOC,OAAO,eAAgBb,EAAST,KAAKuB,MACjD,EAAKC,QAAQC,KAAK,eAlBT,8CAsBfN,UAvBO,SAuBGC,O,UCpDd,EAAOM,OAASA,EAED","file":"js/chunk-ca731bae.def952cd.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=919411ba&lang=scss\"","<template>\r\n  <div class=\"form-card-outer\">\r\n    <form @submit=\"login\" class=\"form-card\">\r\n      <h1>Login</h1>\r\n      <div class=\"form-error\" v-if=\"this.errorMessage !== ''\" ref=\"errors\">\r\n        <p>{{ this.errorMessage }}</p>\r\n      </div>\r\n      <div class=\"form-item\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"email\" name=\"email\" id=\"email\" ref=\"email\" required>\r\n      </div>\r\n      <div class=\"form-item\">\r\n        <label for=\"password\">Password:</label>\r\n        <input type=\"password\" name=\"password\" id=\"password\" ref=\"password\" required>\r\n      </div>\r\n      <div class=\"form-item form-item--checkbox\">\r\n        <label for=\"remember\">\r\n          <input type=\"checkbox\" name=\"remember\" id=\"remember\" ref=\"remember\">\r\n          Remember me after login\r\n        </label>\r\n      </div>\r\n      <button class=\"btn btn-default btn-block\">Login</button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      errorMessage: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async login(e) {\r\n        e.preventDefault();\r\n\r\n        // Attempt user login\r\n        const response = await this.$api('api/auth/login', 'POST', {\r\n          email: this.$refs.email.value,\r\n          password: this.$refs.password.value,\r\n        });\r\n\r\n        // If 200 redirect home, otherwise show errors\r\n        if (response.status === 'Error') {\r\n          const errors = Object.keys(response.data.errors);\r\n          errors.forEach(elem => {\r\n            this.$refs[elem].parentNode.classList.add('form-item--error');\r\n          })\r\n          this.showError(response.message);\r\n        } else {\r\n          this.$store.commit('auth/setUser', response.data.user);\r\n          this.$router.push('/dashboard');\r\n        }\r\n\r\n    },\r\n    showError(message) {\r\n\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.form-card-outer {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100vh;\r\n}\r\n.form-card {\r\n  border-radius: $border-radius;\r\n  padding: 20px;\r\n  width: 400px;\r\n  @include box-shadow;\r\n  h1 {\r\n    text-align: center;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=919411ba\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=919411ba&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
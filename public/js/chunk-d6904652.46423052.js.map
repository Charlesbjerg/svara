{"version":3,"sources":["webpack:///./src/views/clients/single.vue?13c9","webpack:///./src/views/clients/single.vue","webpack:///./src/components/clients/MiniProjectCard.vue","webpack:///./src/components/clients/MiniProjectCard.vue?2090","webpack:///./src/components/clients/AddClientUser.vue","webpack:///./src/components/clients/AddClientUser.vue?8fe9","webpack:///./src/views/clients/single.vue?b07b","webpack:///./src/components/clients/MiniProjectCard.vue?f1a9"],"names":["class","data","title","client","name","subtitle","mainContact","user","accountManager","projectCount","members","length","index","key","mainUser","id","mainContactId","newUserModal","projects","project","hideClient","updateUsers","to","state","currentPhase","projectLead","meta","item","value","props","type","Object","required","computed","this","projectUrl","render","for","placeholder","autocomplete","jobRole","email","submit","team","methods","$api","clientId","response","success","$emit","console","log","__scopeId","components","AddClientUser","ActionModal","StaffMemberCard","MiniProjectCard","PageHead","mounted","$route","params","push"],"mappings":"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","file":"js/chunk-d6904652.46423052.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./single.vue?vue&type=style&index=0&id=6f25263e&lang=scss\"","<template>\r\n    <div class=\"clients-single\" v-if=\"data\">\r\n        <page-head :title=\"data.client.name\" subtitle=\"\"/>\r\n        <div class=\"client-top-info\">\r\n            <div v-if=\"data.client.mainContact !== null\">\r\n                <h3>Main Contact</h3>\r\n\t\t\t\t<staff-member-card :user=\"data.client.mainContact\" />\r\n            </div>\r\n            <div>\r\n                <h3>Account Manager</h3>\r\n\t\t\t\t<staff-member-card :user=\"data.client.accountManager\" />\r\n\t\t\t</div>\r\n            <div>\r\n                <h3>Project Info</h3>\r\n\t\t\t\t<div class=\"info-card\">\r\n                \t<p class=\"info-card__item\">Total Projects: {{ data.projectCount }}</p>\r\n\t\t\t\t</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"client-info\">\r\n            <aside class=\"client-info__users\">\r\n                <h2>Client Users</h2>\r\n                <staff-member-card v-if=\"data.client.members.length > 0\"\r\n\t\t\t\t\t\t\t\t   v-for=\"(user, index) in data.client.members\"\r\n\t\t\t\t\t\t\t\t   :key=\"index\"\r\n\t\t\t\t\t\t\t\t   :user=\"user\"\r\n\t\t\t\t\t\t\t\t   :mainUser=\"user.id === data.client.mainContactId\" />\r\n\t\t\t\t<div class=\"client-info__users-none\" v-else>\r\n\t\t\t\t\t<h3>This client currently has no user accounts setup.</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"btn btn-default\" @click=\"newUserModal = true\">\r\n\t\t\t\t\tAdd Client User\r\n\t\t\t\t\t<i class=\"fas fa-user-plus\"></i>\r\n\t\t\t\t</button>\r\n            </aside>\r\n            <section class=\"client-projects\" v-if=\"data.client.projects.length > 0\">\r\n                <mini-project-card v-for=\"(project, index) in data.client.projects\" :key=\"index\" :project=\"project\" :hideClient=\"true\" />\r\n            </section>\r\n\t\t\t<section class=\"client-no-projects\" v-else>\r\n\t\t\t\t<h3>This client is yet to commission any projects.</h3>\r\n\t\t\t</section>\r\n        </div>\r\n\t\t<action-modal v-if=\"newUserModal\" title=\"Add Client User Account\" @close=\"newUserModal = false\">\r\n\t\t\t<add-client-user @update=\"updateUsers\" :client=\"data.client\" />\r\n\t\t</action-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PageHead from \"../../components/common/PageHead\";\r\nimport MiniProjectCard from \"../../components/clients/MiniProjectCard\";\r\nimport StaffMemberCard from \"../../components/projects/wizard/StaffMemberCard\";\r\nimport ActionModal from \"../../components/company/ActionModal\";\r\nimport AddClientUser from \"../../components/clients/AddClientUser\";\r\n\r\nexport default {\r\n    name: 'ClientsSingle',\r\n    components: {\r\n\t\tAddClientUser,\r\n\t\tActionModal,\r\n        StaffMemberCard,\r\n        MiniProjectCard,\r\n        PageHead\r\n    },\r\n    data() {\r\n        return {\r\n            data: null,\r\n\t\t\tnewUserModal: false,\r\n        };\r\n    },\r\n    async mounted() {\r\n        const response = await this.$api(`api/clients/${this.$route.params.id}`);\r\n        this.data = response.data;\r\n    },\r\n\tmethods: {\r\n    \tupdateUsers(user) {\r\n    \t\tthis.data.client.members.push(user);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.client-top-info {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, minmax(0, 1fr));\r\n    gap: 30px;\r\n    padding: 20px;\r\n    margin-bottom: 30px;\r\n    border-radius: $border-radius;\r\n    background-color: $light-grey;\r\n}\r\n.info-card {\r\n    background-color: #fff;\r\n    padding: 20px;\r\n    border-radius: $border-radius;\r\n    @include box-shadow-sm;\r\n\t&__item {\r\n\t\tmargin: 0 0 15px;\r\n\t\t&:last-child {\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t}\r\n}\r\n.client-info {\r\n    display: grid;\r\n    grid-template-columns: minmax(0, 1fr) minmax(0, 2fr);\r\n    gap: 30px;\r\n    &__users {\r\n        background-color: $light-grey;\r\n        padding: 20px;\r\n        border-radius: $border-radius;\r\n\t\tbutton {\r\n\t\t\tmargin-top: 20px;\r\n\t\t}\r\n    }\r\n\t&__users .staff-card {\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\t&__users-none {\r\n\t\theight: 200px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\topacity: 0.65;\r\n\t\tpadding: 0 30px;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n.client-projects {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, minmax(0, 1fr));\r\n    gap: 30px;\r\n}\r\n.client-no-projects {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\theight: 200px;\r\n\ttext-align: center;\r\n\topacity: 0.65;\r\n}\r\n</style>\r\n","<template>\r\n    <article class=\"mp-card\" v-if=\"project\">\r\n        <router-link :to=\"`/projects/${project.id}`\" class=\"mp-card__inner\">\r\n            <header class=\"mp-card__head\">\r\n                <h3 class=\"mp-card__title\">{{ project.name }}</h3>\r\n                <span class=\"state state--overdue\">{{ state }}</span>\r\n            </header>\r\n            <div class=\"mp-card__main\">\r\n                <p>Currently in the {{ project.currentPhase.name }} phase</p>\r\n                <p v-if=\"project.projectLead\">Project is led by {{ project.projectLead.name }}</p>\r\n            </div>\r\n            <footer class=\"mp-card__meta\">\r\n                <span class=\"mp-card__meta-item\" v-for=\"(item, index) in project.meta\" :key=\"index\">\r\n                    {{ item.key }} {{ item.value }}\r\n                </span>\r\n            </footer>\r\n        </router-link>\r\n    </article>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"MiniProjectCard\",\r\n    props: {\r\n        project: {\r\n            type: Object,\r\n            required: true,\r\n        },\r\n    },\r\n    computed: {\r\n        state() {\r\n            return this.project.state.state;\r\n        },\r\n        projectUrl() {\r\n            return `/projects/${this.project.id}`;\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.mp-card {\r\n    background-color: #fff;\r\n    border-radius: $border-radius;\r\n    padding: 20px;\r\n    @include box-shadow-sm;\r\n    &__inner {\r\n        display: block;\r\n        height: 100%;\r\n    }\r\n    &__head {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        margin: 0 0 20px;\r\n    }\r\n    &__title {\r\n        margin: 0;\r\n    }\r\n    &__meta-item {\r\n        display: inline-block;\r\n        padding: 5px 10px;\r\n        border-radius: $border-radius;\r\n        background-color: $light-grey;\r\n        font-family: $font-heading;\r\n        font-size: $font-xs;\r\n        font-weight: $font-weight-subheading;\r\n        margin: 0 5px 5px 0;\r\n    }\r\n}\r\n.state {\r\n    padding: 5px 15px;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n    font-size: $font-xxs;\r\n    @include gradient-purple;\r\n}\r\n</style>\r\n","import { render } from \"./MiniProjectCard.vue?vue&type=template&id=3ab4e410\"\nimport script from \"./MiniProjectCard.vue?vue&type=script&lang=js\"\nexport * from \"./MiniProjectCard.vue?vue&type=script&lang=js\"\n\nimport \"./MiniProjectCard.vue?vue&type=style&index=0&id=3ab4e410&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"client-user\">\r\n\t\t<p>Add a user account for this particular client. This gives them access to their client information and projects within Svara.</p>\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"name\">Full Name</label>\r\n\t\t\t<input type=\"text\" id=\"name\" v-model=\"name\" placeholder=\"Full Name\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"jobRole\">Job Role</label>\r\n\t\t\t<input type=\"text\" id=\"jobRole\" v-model=\"jobRole\" placeholder=\"Graphic Designer\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"email\">Email Address</label>\r\n\t\t\t<input type=\"email\" id=\"email\" v-model=\"email\" placeholder=\"dev@svara.io\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<p>An email will be sent to the client user asking them to activate their account. They will then set their password and be able to use Svara.</p>\r\n\t\t<button class=\"btn btn-default\" @click=\"submit\">\r\n\t\t\tAdd Client User\r\n\t\t\t<i class=\"far fa-plus-square\"></i>\r\n\t\t</button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"AddClientUser\",\r\n\tprops: {\r\n\t\tclient: {\r\n\t\t\ttype: Object,\r\n\t\t\trequired: true,\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tjobRole: '',\r\n\t\t\temail: '',\r\n\t\t\ttype: 3,\t// User type ID for client\r\n\t\t\tteam: null, // Must be null as client users cannot belong to teams\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync submit() {\r\n\t\t\tconst response = await this.$api('api/auth/register', 'POST', {\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tjobRole: this.jobRole,\r\n\t\t\t\temail: this.email,\r\n\t\t\t\ttype: this.type,\r\n\t\t\t\tclientId: this.client.id,\r\n\t\t\t});\r\n\t\t\tif (response.data.success) {\r\n\t\t\t\tthis.$emit('update', response.data.data);\r\n\t\t\t\tthis.$emit('close');\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('Issue adding user');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import { render } from \"./AddClientUser.vue?vue&type=template&id=22bb865e&scoped=true\"\nimport script from \"./AddClientUser.vue?vue&type=script&lang=js\"\nexport * from \"./AddClientUser.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-22bb865e\"\n\nexport default script","import { render } from \"./single.vue?vue&type=template&id=6f25263e\"\nimport script from \"./single.vue?vue&type=script&lang=js\"\nexport * from \"./single.vue?vue&type=script&lang=js\"\n\nimport \"./single.vue?vue&type=style&index=0&id=6f25263e&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MiniProjectCard.vue?vue&type=style&index=0&id=3ab4e410&lang=scss\""],"sourceRoot":""}
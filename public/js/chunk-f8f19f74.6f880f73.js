(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8f19f74"],{"0dc6":function(e,t,r){},"6b92":function(e,t,r){},"7ccd":function(e,t,r){"use strict";r("6b92")},d41b:function(e,t,r){"use strict";r("0dc6")},fa76:function(e,t,r){"use strict";r.r(t);var c=r("7a23"),o=Object(c["withScopeId"])("data-v-794f6fae");Object(c["pushScopeId"])("data-v-794f6fae");var a={class:"projects-index"},n=Object(c["createTextVNode"])("A Graph Might go Here"),i={key:0},s={class:"filters"},l=Object(c["createTextVNode"])("Create New Project"),u={class:"grid"},d={key:1,class:"no-projects"},p=Object(c["createVNode"])("h2",{class:"no-projects__title"},"No projects have been setup!",-1),j=Object(c["createVNode"])("p",{class:"no-projects__message"},"Create your first now!",-1),f=Object(c["createTextVNode"])("Create a Project");Object(c["popScopeId"])();var b=o((function(e,t,r,b,m,O){var h=Object(c["resolveComponent"])("PageHead"),v=Object(c["resolveComponent"])("filter-bar"),k=Object(c["resolveComponent"])("router-link"),y=Object(c["resolveComponent"])("project-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])(h,{title:"Ongoing Projects",subtitle:O.pageSubtitle},{default:o((function(){return[n]})),_:1},8,["subtitle"]),O.hasProjects?(Object(c["openBlock"])(),Object(c["createBlock"])("div",i,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])(v,{onUpdate:O.filterProjects},null,8,["onUpdate"]),Object(c["createVNode"])(k,{to:"/projects/create",class:"btn btn-default"},{default:o((function(){return[l]})),_:1})]),Object(c["createVNode"])("section",u,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(y,{key:t,project:e},null,8,["project"])})),128))])])):(Object(c["openBlock"])(),Object(c["createBlock"])("section",d,[p,j,Object(c["createVNode"])(k,{to:"/projects/create",class:"btn btn-default"},{default:o((function(){return[f]})),_:1})]))])})),m=(r("96cf"),r("1da1")),O=r("5530"),h=r("5502"),v=r("009a"),k=r("4a6a"),y=(r("b0c0"),{class:"filter-bar"}),N={class:"form-item"},g=Object(c["createVNode"])("label",{for:"name"},"Name",-1);function w(e,t,r,o,a,n){var i=Object(c["resolveComponent"])("autocomplete");return Object(c["openBlock"])(),Object(c["createBlock"])("div",y,[Object(c["createVNode"])("div",N,[g,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),placeholder:"Search by Project Name",onKeyup:t[2]||(t[2]=function(){return n.filterByName&&n.filterByName.apply(n,arguments)}),autocomplete:"off"},null,544),[[c["vModelText"],a.name]])]),Object(c["createVNode"])(i,{label:"Client",url:"api/clients",filterKey:"client",searchKey:"name",onSelected:n.addFilter},null,8,["onSelected"]),Object(c["createVNode"])(i,{label:"Project Lead",url:"api/users/project-leads",filterKey:"projectLead",searchKey:"name",onSelected:n.addFilter},null,8,["onSelected"])])}r("c740"),r("4160"),r("159b");var B=r("1b5b"),P={name:"FilterBar",components:{Autocomplete:B["a"]},data:function(){return{name:"",meta:null,filters:[],keyupTimeout:null}},methods:{filterByName:function(){var e=this;clearTimeout(this.keyupTimeout),this.keyupTimeout=setTimeout((function(){e.addFilter({key:"name",value:self.name})}),500)},addFilter:function(e){var t=this.filters.findIndex((function(t){return t.key===e.key}));-1!==t?this.filters[t].value=e.value:this.filters.push(e),this.filterResults()},filterResults:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("util/enableLoader"),r=[],e.filters.forEach((function(e){e.value.hasOwnProperty("id")?r[e.key]=e.value.id:r[e.key]=e.value})),t.next=5,e.$api("api/projects/filter","GET",r);case 5:c=t.sent,e.$emit("update",c.data),e.$store.commit("util/disableLoader");case 8:case"end":return t.stop()}}),t)})))()}}};r("7ccd");P.render=w;var V=P,x={name:"ProjectsIndex",components:{FilterBar:V,ProjectCard:v["a"],PageHead:k["a"]},data:function(){return{filteredResults:[]}},computed:Object(O["a"])(Object(O["a"])({},Object(h["c"])({projects:"projects/getAllProjects"})),{},{pageSubtitle:function(){return"There are currently ".concat(this.projects.length," in the pipeline")},hasProjects:function(){return this.projects.length>0}}),mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("util/enableLoader"),t.next=3,e.$api("api/projects","GET");case 3:r=t.sent,e.$store.commit("projects/setProjects",r.data),e.$store.commit("util/disableLoader");case 6:case"end":return t.stop()}}),t)})))()},methods:{filterProjects:function(e){this.$store.commit("projects/setProjects",e)}}};r("d41b");x.render=b,x.__scopeId="data-v-794f6fae";t["default"]=x}}]);
//# sourceMappingURL=chunk-f8f19f74.6f880f73.js.map
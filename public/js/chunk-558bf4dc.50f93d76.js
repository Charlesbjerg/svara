(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558bf4dc"],{"3ee3":function(e,t,a){"use strict";a("5cb4")},"5cb4":function(e,t,a){},"72b4":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),c={class:"client-create"},r={class:"client-create__main"},o={class:"panel client-create__inner"},i=Object(n["createVNode"])("h2",null,"Create a new Client in Svara",-1),u=Object(n["createVNode"])("p",null,"This is just the initial information about the client, each client user will be added after.",-1),l={class:"form-item--double"},s={class:"form-item"},d=Object(n["createVNode"])("label",{for:"name"},"Company Name",-1),m={class:"form-item"},b=Object(n["createVNode"])("label",{for:"accountManager"},"Account Manager",-1),p={key:0,class:"search-results"},f={class:"search-results__name"},j=Object(n["createVNode"])("i",{class:"far fa-check-circle"},null,-1),O={class:"form-item--double"},g={class:"form-item"},v=Object(n["createVNode"])("label",{for:"name"},"Contact Number",-1),h={class:"form-item"},V=Object(n["createVNode"])("label",{for:"name"},"Contact Email",-1),N=Object(n["createTextVNode"])("Create Client "),k=Object(n["createVNode"])("i",{class:"far fa-plus-square"},null,-1);function M(e,t,a,M,w,C){var x=Object(n["resolveComponent"])("page-head");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])(x,{title:"Add new Client"}),Object(n["createVNode"])("div",r,[Object(n["createVNode"])("div",o,[i,u,Object(n["createVNode"])("div",l,[Object(n["createVNode"])("div",s,[d,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return w.name=e})},null,512),[[n["vModelText"],w.name]])]),Object(n["createVNode"])("div",m,[b,Object(n["createVNode"])("input",{type:"text",name:"accountManager",id:"accountManager",onKeyup:t[2]||(t[2]=function(){return C.findAccountManager&&C.findAccountManager.apply(C,arguments)})},null,32),0!==w.accountManagerResults.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",p,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(w.accountManagerResults,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("article",{class:"search-results__result",key:e.id,onClick:function(t){return C.selectAccountManager(e)}},[Object(n["createVNode"])("span",f,Object(n["toDisplayString"])(e.name),1),j],8,["onClick"])})),128))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])("div",g,[v,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",id:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return w.number=e})},null,512),[[n["vModelText"],w.number]])]),Object(n["createVNode"])("div",h,[V,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"email",id:"email","onUpdate:modelValue":t[4]||(t[4]=function(e){return w.email=e})},null,512),[[n["vModelText"],w.email]])])]),Object(n["createVNode"])("button",{class:"btn btn-default",onClick:t[5]||(t[5]=function(){return C.createClient&&C.createClient.apply(C,arguments)})},[N,k])])])])}a("96cf");var w=a("1da1"),C=a("4a6a"),x={components:{PageHead:C["a"]},data:function(){return{name:"",email:"",number:"",accountManagerResults:[],accountManager:null,keypressTimeout:null}},methods:{findAccountManager:function(e){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return clearTimeout(t.keypressTimeout),a.next=3,setTimeout(Object(w["a"])(regeneratorRuntime.mark((function a(){var n,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.target.value,!(""!==n&&n.length>=3)){a.next=6;break}return a.next=4,t.$api("api/users/staff","GET",{name:n});case 4:c=a.sent,t.accountManagerResults=c.data;case 6:case"end":return a.stop()}}),a)}))),300);case 3:t.keypressTimeout=a.sent;case 4:case"end":return a.stop()}}),a)})))()},selectAccountManager:function(e){this.accountManager=e,this.accountManagerResults=[],document.getElementById("accountManager").value=e.name},createClient:function(){var e=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/clients","POST",{name:e.name,contact_email:e.email,contact_number:e.number,accountManager:e.accountManager});case 2:return a=t.sent,t.next=5,e.$router.push("/clients/".concat(a.data.id));case 5:case"end":return t.stop()}}),t)})))()}}};a("3ee3");x.render=M;t["default"]=x}}]);
//# sourceMappingURL=chunk-558bf4dc.50f93d76.js.map
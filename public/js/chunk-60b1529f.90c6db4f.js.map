{"version":3,"sources":["webpack:///./src/components/clients/ClientCard.vue?fb56","webpack:///./src/views/clients/index.vue?ba6b","webpack:///./src/components/clients/ClientFilters.vue?f377","webpack:///./src/views/clients/index.vue","webpack:///./src/components/clients/ClientCard.vue","webpack:///./src/components/clients/ClientCard.vue?1da6","webpack:///./src/components/clients/ClientFilters.vue","webpack:///./src/components/clients/ClientFilters.vue?455a","webpack:///./src/views/clients/index.vue?da99"],"names":["class","title","subtitle","pageSubtitle","hasClients","updateClients","to","clients","client","index","key","clientUrl","hasClientLogo","src","clientLogo","alt","clientLogoAlt","initials","name","totalProjects","computed","this","state","id","logoPath","charAt","totalNumberProjects","length","props","type","Object","required","render","for","placeholder","filterByName","autocomplete","label","url","filterKey","searchKey","addFilter","components","Autocomplete","data","meta","filters","keyupTimeout","methods","clearTimeout","setTimeout","value","filter","findIndex","item","push","filterResults","$store","commit","forEach","hasOwnProperty","$api","response","$emit","ClientCard","PageHead","ClientFilters","searchTerm","entries","mounted","$nextTick","filteredClients"],"mappings":"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","file":"js/chunk-60b1529f.90c6db4f.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ClientCard.vue?vue&type=style&index=0&id=702bc1fe&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=9a062ae4&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ClientFilters.vue?vue&type=style&index=0&id=034bd308&lang=scss\"","<template>\r\n    <div class=\"clients-index\">\r\n        <PageHead title=\"Clients\" :subtitle=\"pageSubtitle\"></PageHead>\r\n\t\t<div v-if=\"hasClients\">\r\n\t\t\t<div class=\"filters\">\r\n\t\t\t\t<client-filters @update=\"updateClients\" />\r\n\t\t\t\t<router-link to=\"/clients/create\" class=\"btn btn-default\">Add New Client</router-link>\r\n\t\t\t</div>\r\n\t\t\t<section class=\"grid\">\r\n\t\t\t\t<client-card v-for=\"(client, index) in clients\" :key=\"index\" :client=\"client\"/>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t\t<section v-else class=\"no-clients\">\r\n\t\t\t<h2 class=\"no-clients__title\">No clients have been setup!</h2>\r\n\t\t\t<p class=\"no-clients__message\">Create your first now!</p>\r\n\t\t\t<router-link to=\"/clients/create\" class=\"btn btn-default\">Add a Client</router-link>\r\n\t\t</section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PageHead from \"../../components/common/PageHead\";\r\nimport ClientCard from \"../../components/clients/ClientCard\";\r\nimport ClientFilters from \"../../components/clients/ClientFilters\";\r\nimport {mapGetters} from \"vuex\";\r\n\r\nexport default {\r\n    name: \"ClientsIndex\",\r\n    components: {\r\n        ClientCard,\r\n        PageHead,\r\n        ClientFilters\r\n    },\r\n\tdata() {\r\n    \treturn {\r\n    \t\tclients: [],\r\n\t\t};\r\n\t},\r\n    computed: {\r\n        ...mapGetters({\r\n            searchTerm: 'clients/getSearchTerm',\r\n        }),\r\n        pageSubtitle() {\r\n            return `Your currently have ${this.clients.length} clients`;\r\n        },\r\n\t\thasClients() {\r\n\t\t\treturn Object.entries(this.clients).length > 0;\r\n\t\t},\r\n    },\r\n    async mounted() {\r\n\t\tawait this.$nextTick(async () => {\r\n\t\t\tthis.$store.commit('util/enableLoader');\r\n\t\t\tconst response = await this.$api('api/clients', 'GET');\r\n\t\t\tthis.clients = response.data;\r\n\t\t\tthis.$store.commit('util/disableLoader');\r\n\t\t});\r\n    },\r\n\tmethods: {\r\n    \tupdateClients(filteredClients) {\r\n    \t\tthis.clients = filteredClients;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(4, minmax(0, 1fr));\r\n    gap: 20px;\r\n    @include custom-scrollbar;\r\n}\r\n.filters {\r\n    width: 100%;\r\n    margin-bottom: 2rem;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n\t.btn {\r\n\t\tflex-basis: 200px;\r\n\t\tmax-width: 200px;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 30px;\r\n\t}\r\n}\r\n.no-clients {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tflex-direction: column;\r\n\tmin-height: 350px;\r\n\t&__title,\r\n\t&__message {\r\n\t\topacity: 0.8;\r\n\t\tmargin: 0 0 15px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n    <article class=\"client-card\">\r\n        <router-link :to=\"clientUrl\">\r\n            <div class=\"client-card__body\">\r\n                <div class=\"client-card__client\">\r\n                    <img :src=\"clientLogo\" :alt=\"clientLogoAlt\" class=\"client-card__logo\" v-if=\"hasClientLogo\"/>\r\n                    <span class=\"client-card__logo logo-placeholder\" v-else>{{ initials }}</span>\r\n                </div>\r\n                <div class=\"client-card__content\">\r\n                    <h2 class=\"client-card__name\">{{ client.name }}</h2>\r\n                    <span class=\"client-card__subtitle\">{{ client.totalProjects }} project(s) in the pipeline</span>\r\n                </div>\r\n            </div>\r\n        </router-link>\r\n    </article>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"ProjectCard\",\r\n    computed: {\r\n        client() {\r\n            return this.client.client;\r\n        },\r\n        state() {\r\n            return this.client.state.state;\r\n        },\r\n        clientUrl() {\r\n            return `/clients/${this.client.id}`;\r\n        },\r\n\t\thasClientLogo() {\r\n        \treturn this.client.logoPath !== \"\" && this.client.logoPath !== null;\r\n\t\t},\r\n        clientLogo() {\r\n            return `http://app.svara.io:8000/${this.client.logoPath}`;\r\n        },\r\n        clientLogoAlt() {\r\n            return `Logo for ${this.client.name}`;\r\n        },\r\n\t\tinitials() {\r\n        \treturn this.client.name.charAt(0);\r\n\t\t},\r\n\t\ttotalNumberProjects() {\r\n        \treturn this.client.length;\r\n\t\t},\r\n    },\r\n    props: {\r\n        client: {\r\n            type: Object,\r\n            required: true,\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.client-card {\r\n    padding: 15px 20px;\r\n    border: 1px solid $light-grey;\r\n    @include box-shadow-sm;\r\n    @include transition-bounce;\r\n    &:hover {\r\n        transform: translate3d(0, -3px, 0);\r\n        @include box-shadow;\r\n    }\r\n\r\n    &__body {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n    &__logo {\r\n        border-radius: $border-radius;\r\n        //border: 2px solid $light-grey;\r\n        width: 50px;\r\n        height: 50px;\r\n        object-fit: cover;\r\n        object-position: center;\r\n        margin-right: 10px;\r\n\t\t&.logo-placeholder {\r\n\t\t\tcolor: #fff;\r\n\t\t\tpadding: 14px;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-family: $font-heading;\r\n\t\t\tfont-weight: $font-weight-heading;\r\n\t\t\tfont-size: 20px;\r\n\t\t}\r\n    }\r\n    &__name {\r\n        font-size: $font-sm;\r\n        margin-bottom: 5px;\r\n    }\r\n    &__subtitle {\r\n        display: inline-block;\r\n        margin-bottom: 0;\r\n        font-size: $font-xs;\r\n    }\r\n}\r\n\r\n.state {\r\n    padding: 5px 15px;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n    font-size: $font-xxs;\r\n    @include gradient-red;\r\n}\r\n\r\n.logo-placeholder {\r\n    display: block;\r\n    @include gradient-purple;\r\n}\r\n</style>\r\n","import { render } from \"./ClientCard.vue?vue&type=template&id=702bc1fe\"\nimport script from \"./ClientCard.vue?vue&type=script&lang=js\"\nexport * from \"./ClientCard.vue?vue&type=script&lang=js\"\n\nimport \"./ClientCard.vue?vue&type=style&index=0&id=702bc1fe&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n\t<div class=\"filter-bar\">\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"name\">Name</label>\r\n\t\t\t<input type=\"text\" id=\"name\" v-model=\"name\" placeholder=\"Search by Client Name\" @keyup=\"filterByName\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<autocomplete label=\"Account Manager\" url=\"api/users/account-managers\" filterKey=\"accountManager\" searchKey=\"name\" @selected=\"addFilter\" />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Autocomplete from \"../projects/Autocomplete\";\r\n\r\nexport default {\r\n\tname: \"ClientFilters\",\r\n\tcomponents: {\r\n\t\tAutocomplete\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tmeta: null,\r\n\t\t\tfilters: [],\r\n\t\t\tkeyupTimeout: null,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tfilterByName() {\r\n\t\t\tclearTimeout(this.keyupTimeout);\r\n\t\t\tthis.keyupTimeout = setTimeout(() => {\r\n\t\t\t\tthis.addFilter({key: 'name', value: this.name })\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\taddFilter(filter) {\r\n\t\t\t// Update or add new filter to array\r\n\t\t\tconst index = this.filters.findIndex(item => item.key === filter.key);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.filters[index].value = filter.value;\r\n\t\t\t} else {\r\n\t\t\t\tthis.filters.push(filter);\r\n\t\t\t}\r\n\t\t\t// Update projects\r\n\t\t\tthis.filterResults();\r\n\t\t},\r\n\t\tasync filterResults() {\r\n\t\t\tthis.$store.commit('util/enableLoader');\r\n\r\n\t\t\t// Give filters correct key/values\r\n\t\t\tlet filters = [];\r\n\t\t\tthis.filters.forEach(filter => {\r\n\t\t\t\tif (filter.value.hasOwnProperty('id')) {\r\n\t\t\t\t\tfilters[filter.key] = filter.value.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilters[filter.key] = filter.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Fetch data and emit update to parent\r\n\t\t\tconst response = await this.$api('api/clients/filter' , 'GET', filters);\r\n\t\t\tthis.$emit('update', response.data);\r\n\t\t\tthis.$store.commit('util/disableLoader');\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.filter-bar {\r\n\twidth: 100%;\r\n\tmargin-right: 30px;\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 300px));\r\n\tgap: 30px;\r\n\t.form-item {\r\n\t\tmargin: 0;\r\n\t}\r\n\t.form-item label {\r\n\t\tfont-size: 0.001px;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./ClientFilters.vue?vue&type=template&id=034bd308\"\nimport script from \"./ClientFilters.vue?vue&type=script&lang=js\"\nexport * from \"./ClientFilters.vue?vue&type=script&lang=js\"\n\nimport \"./ClientFilters.vue?vue&type=style&index=0&id=034bd308&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=9a062ae4\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=9a062ae4&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c24c9ef"],{"0780":function(e,t,a){},"36fe":function(e,t,a){"use strict";a("da04")},"4b89":function(e,t,a){"use strict";a("b0c0");var c=a("7a23"),r=Object(c["createVNode"])("div",{class:"board-card__icons"},[Object(c["createVNode"])("div",{class:"board-card__icon"},[Object(c["createVNode"])("i",{class:"far fa-images"}),Object(c["createTextVNode"])(" Int ")])],-1);function n(e,t,a,n,o,s){var d=Object(c["resolveDirective"])("focus");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"board-card",onClick:t[4]||(t[4]=function(){return s.openCard&&s.openCard.apply(s,arguments)})},[o.edit?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"text",name:"cardname",class:"board-card__input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.card.name=e}),onBlur:t[2]||(t[2]=function(){return s.nameUpdated&&s.nameUpdated.apply(s,arguments)}),autocomplete:"off",placeholder:"Card Name"},null,544)),[[c["vModelText"],a.card.name],[d]]):(Object(c["openBlock"])(),Object(c["createBlock"])("span",{key:1,class:"board-card__title",onClick:t[3]||(t[3]=function(){return s.editName&&s.editName.apply(s,arguments)})},Object(c["toDisplayString"])(a.card.name),1)),r])}a("96cf");var o=a("1da1"),s={name:"BoardCard",props:{card:{required:!0,type:Object}},data:function(){return{init:!0,edit:!1}},mounted:function(){""===this.card.name&&(this.edit=!0,this.init=!1),this.$nextTick((function(){this.edit&&this.$el.children[0].focus()}))},methods:{openCard:function(){this.init&&this.$store.commit("entities/setOpenCard",this.card)},editName:function(){this.init||(this.edit=!0)},nameUpdated:function(){""!==this.card.name&&(this.edit=!1,this.init=!0,this.saveCard())},saveCard:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/projects/pipeline/boards/card","POST",e.card);case 2:a=t.sent,e.card=a.data,e.$emit("reinit");case 5:case"end":return t.stop()}}),t)})))()}},directives:{focus:{inserted:function(e){e.focus()}}}};a("36fe");s.render=n;t["a"]=s},"62f0":function(e,t,a){"use strict";a("a1b6")},7277:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),r={class:"dashboard"};function n(e,t,a,n,o,s){var d=Object(c["resolveComponent"])("page-head"),i=Object(c["resolveComponent"])("client-dashboard"),l=Object(c["resolveComponent"])("staff-dashboard");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(d,{title:"Welcome back, ".concat(s.name,"!")},null,8,["title"]),3===s.user.typeId?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0})):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1}))])}var o=a("4a6a"),s=Object(c["withScopeId"])("data-v-4bc9be92");Object(c["pushScopeId"])("data-v-4bc9be92");var d={key:0,class:"dashboard__section"},i=Object(c["createVNode"])("h2",null,"Ongoing Projects",-1),l={class:"card-grid"},u={class:"dashboard__section--split"},b={class:"info-area"},p={key:0},j=Object(c["createVNode"])("h2",null,"Outstanding Tasks",-1),O={class:"card-grid"};Object(c["popScopeId"])();var m=s((function(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("project-card"),m=Object(c["resolveComponent"])("task-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[n.dashboard.hasOwnProperty("projects")&&n.dashboard.projects.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",d,[i,Object(c["createVNode"])("div",l,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:t,project:e},null,8,["project"])})),128))])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.info,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"info-card",key:t},[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(e.key),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.value),1)])})),128))]),n.dashboard.hasOwnProperty("cards")&&n.dashboard.cards.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",p,[j,Object(c["createVNode"])("div",O,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.cards,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:t,task:e},null,8,["task"])})),128))])])):Object(c["createCommentVNode"])("",!0)])])})),h=(a("96cf"),a("1da1")),f={class:"task-card"};function k(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("article",f,[Object(c["createVNode"])(s,{to:"/projects/entity/".concat(a.task.board.pipelineEntityId)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(a.task.name),1),Object(c["createVNode"])("p",null,"Last updated on "+Object(c["toDisplayString"])(e.$dateFormatter(a.task.updatedAt,!1)),1),Object(c["createVNode"])("p",null,"From: "+Object(c["toDisplayString"])(a.task.column.name)+" in "+Object(c["toDisplayString"])(a.task.board.name),1)]})),_:1},8,["to"])])}var v={name:"task-card",props:{task:{type:Object,required:!0}}};a("96fc");v.render=k;var g=v,B=a("4b89"),y=a("009a"),N={name:"ClientDashboard",components:{TaskCard:g,BoardCard:B["a"],ProjectCard:y["a"]},data:function(){return{dashboard:{}}},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/dashboard/staff");case 2:a=t.sent,e.dashboard=a.data;case 4:case"end":return t.stop()}}),t)})))()}};N.render=m,N.__scopeId="data-v-4bc9be92";var _=N,V={class:"client-dashboard"},C={class:"client-dashboard__threads panel"},w=Object(c["createVNode"])("h2",null,"Messages",-1),D={class:"message-card__content"},S={class:"message-card__title"},x={class:"message-card__project"},$={class:"message-card__date"},P={class:"message-card__count"},F=Object(c["createVNode"])("i",{class:"far fa-comments ml-5"},null,-1),T={key:0,class:"dashboard__section"},I=Object(c["createVNode"])("h2",null,"Ongoing Projects",-1),L={class:"card-grid"};function U(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("router-link"),d=Object(c["resolveComponent"])("project-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",V,[Object(c["createVNode"])("div",C,[w,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.messages,(function(t,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"message-card",key:a},[Object(c["createVNode"])(s,{to:"/projects/".concat(t.project_id,"?panel=messages"),class:"message-card__inner"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",D,[Object(c["createVNode"])("strong",S,Object(c["toDisplayString"])(t.title),1),Object(c["createVNode"])("p",x,Object(c["toDisplayString"])(t.name),1),Object(c["createVNode"])("em",$,"Last updated: "+Object(c["toDisplayString"])(e.$dateFormatter(t.updated_at)),1)]),Object(c["createVNode"])("span",P,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.messageCount)+" ",1),F])]})),_:2},1032,["to"])])})),128))]),n.dashboard.hasOwnProperty("projects")&&n.dashboard.projects.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",T,[I,Object(c["createVNode"])("div",L,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:t,project:e},null,8,["project"])})),128))])])):Object(c["createCommentVNode"])("",!0)])}var R={name:"StaffDashboard",components:{TaskCard:g,BoardCard:B["a"],ProjectCard:y["a"]},data:function(){return{dashboard:{}}},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/dashboard/client");case 2:a=t.sent,e.dashboard=a.data,console.log(a.data);case 5:case"end":return t.stop()}}),t)})))()}};a("62f0");R.render=U;var q=R,J={name:"Dashboard",components:{ClientDashboard:q,StaffDashboard:_,PageHead:o["a"]},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){console.log(this.$store.state.auth.user)}};a("ae07");J.render=n;t["default"]=J},8836:function(e,t,a){},"96fc":function(e,t,a){"use strict";a("0780")},a1b6:function(e,t,a){},ae07:function(e,t,a){"use strict";a("8836")},da04:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1c24c9ef.84effa4e.js.map
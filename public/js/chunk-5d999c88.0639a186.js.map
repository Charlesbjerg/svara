{"version":3,"sources":["webpack:///./src/components/projects/FilterBar.vue?2bd4","webpack:///./src/views/projects/index.vue?1099","webpack:///./src/views/projects/index.vue","webpack:///./src/components/projects/FilterBar.vue","webpack:///./src/components/projects/FilterBar.vue?7d10","webpack:///./src/views/projects/index.vue?07c7"],"names":["class","title","subtitle","pageSubtitle","hasProjects","filterProjects","resetProjects","to","projects","project","index","key","for","type","id","name","placeholder","filterByName","autocomplete","label","url","filterKey","searchKey","addFilter","clearFilters","components","Autocomplete","data","meta","filters","keyupTimeout","methods","clearTimeout","this","setTimeout","value","self","filter","findIndex","item","push","filterResults","$store","commit","forEach","hasOwnProperty","$api","response","$emit","document","querySelectorAll","elem","render","FilterBar","ProjectCard","PageHead","filteredResults","filtersApplied","computed","length","mounted","fetchProjects","__scopeId"],"mappings":"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","file":"js/chunk-5d999c88.0639a186.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FilterBar.vue?vue&type=style&index=0&id=09ad6884&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=fe23f2c4&lang=scss&scoped=true\"","<template>\r\n    <div class=\"projects-index\">\r\n        <PageHead title=\"Ongoing Projects\" :subtitle=\"pageSubtitle\">A Graph Might go Here</PageHead>\r\n        <div v-if=\"hasProjects\">\r\n\t\t\t<div class=\"filters\">\r\n\t\t\t\t<filter-bar @update=\"filterProjects\" @reset=\"resetProjects\" />\r\n\t\t\t\t<router-link to=\"/projects/create\" class=\"btn btn-default\">Create New Project</router-link>\r\n\t\t\t</div>\r\n\t\t\t<section class=\"grid\">\r\n\t\t\t\t<project-card v-for=\"(project, index) in projects\" :key=\"index\" :project=\"project\"/>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t\t<section v-else class=\"no-projects\">\r\n\t\t\t<h2 class=\"no-projects__title\">No projects have been setup!</h2>\r\n\t\t\t<p class=\"no-projects__message\">Create your first now!</p>\r\n\t\t\t<router-link to=\"/projects/create\" class=\"btn btn-default\">Create a Project</router-link>\r\n\t\t</section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport ProjectCard from \"@/components/projects/ProjectCard\";\r\nimport PageHead from \"@/components/common/PageHead\";\r\nimport FilterBar from \"../../components/projects/FilterBar\";\r\n\r\nexport default {\r\n    name: \"ProjectsIndex\",\r\n    components: {\r\n\t\tFilterBar,\r\n        ProjectCard,\r\n        PageHead,\r\n    },\r\n\tdata() {\r\n    \treturn {\r\n    \t\tfilteredResults: [],\r\n\t\t\tfiltersApplied: false,\r\n\t\t}\r\n\t},\r\n    computed: {\r\n        ...mapGetters({\r\n            projects: 'projects/getAllProjects',\r\n        }),\r\n        pageSubtitle() {\r\n            return `There are currently ${this.projects.length} in the pipeline`;\r\n        },\r\n\t\thasProjects() {\r\n        \treturn this.projects.length > 0;\r\n\t\t}\r\n    },\r\n    async mounted() {\r\n        await this.fetchProjects();\r\n    },\r\n\tmethods: {\r\n    \tasync fetchProjects() {\r\n\t\t\tthis.$store.commit('util/enableLoader');\r\n\t\t\tconst response = await this.$api('api/projects', 'GET');\r\n\t\t\tthis.$store.commit('projects/setProjects', response.data);\r\n\t\t\tthis.$store.commit('util/disableLoader');\r\n\t\t},\r\n    \tfilterProjects(projects) {\r\n    \t\tthis.filtersApplied = true;\r\n\t\t\tthis.$store.commit('projects/setProjects', projects);\r\n\t\t},\r\n\t\tasync resetProjects() {\r\n\t\t\tthis.filtersApplied = false;\r\n\t\t\tawait this.fetchProjects();\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.grid {\r\n    display: grid;\r\n\tgrid-template-columns: repeat(4, minmax(0, 1fr));\r\n    gap: 20px;\r\n    @include custom-scrollbar;\r\n}\r\n.filters {\r\n    margin-bottom: 2rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\t.btn {\r\n\t\tflex-basis: 220px;\r\n\t\tmax-width: 220px;\r\n\t\tmargin-left: 30px;\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n.no-projects {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tflex-direction: column;\r\n\tmin-height: 350px;\r\n\t&__title,\r\n\t&__message {\r\n\t\topacity: 0.8;\r\n\t\tmargin: 0 0 15px;\r\n\t}\r\n}\r\n</style>\r\n","<template>\r\n\t<div class=\"filter-bar\">\r\n\t\t<div class=\"form-item\">\r\n\t\t\t<label for=\"name\">Name</label>\r\n\t\t\t<input type=\"text\" id=\"name\" v-model=\"name\" placeholder=\"Search by Project Name\" @keyup=\"filterByName\" autocomplete=\"off\" />\r\n\t\t</div>\r\n\t\t<autocomplete label=\"Client\" url=\"api/clients\" filterKey=\"client\" searchKey=\"name\" @selected=\"addFilter\" />\r\n<!--\t\t<autocomplete label=\"Account Manager\" url=\"api/users/account-managers\" filterKey=\"accountManager\" searchKey=\"name\" @selected=\"addFilter\" />-->\r\n\t\t<autocomplete label=\"Project Lead\" url=\"api/users/project-leads\" filterKey=\"projectLead\" searchKey=\"name\" @selected=\"addFilter\" />\r\n\t\t<button class=\"btn btn-alt filter-bar__clear\" @click=\"clearFilters\">Clear <i class=\"fas fa-filter ml-5\"></i></button>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Autocomplete from \"./Autocomplete\";\r\n\r\nexport default {\r\n\tname: \"FilterBar\",\r\n\tcomponents: {\r\n\t\tAutocomplete\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tname: '',\r\n\t\t\tmeta: null,\r\n\t\t\tfilters: [],\r\n\t\t\tkeyupTimeout: null,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tfilterByName() {\r\n\t\t\tclearTimeout(this.keyupTimeout);\r\n\t\t\tthis.keyupTimeout = setTimeout(() => {\r\n\t\t\t\tthis.addFilter({key: 'name', value: self.name })\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\taddFilter(filter) {\r\n\t\t\t// Update or add new filter to array\r\n\t\t\tconst index = this.filters.findIndex(item => item.key === filter.key);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.filters[index].value = filter.value;\r\n\t\t\t} else {\r\n\t\t\t\tthis.filters.push(filter);\r\n\t\t\t}\r\n\t\t\t// Update projects\r\n\t\t\tthis.filterResults();\r\n\t\t},\r\n\t\tasync filterResults() {\r\n\t\t\tthis.$store.commit('util/enableLoader');\r\n\r\n\t\t\t// Give filters correct key/values\r\n\t\t\tlet filters = [];\r\n\t\t\tthis.filters.forEach(filter => {\r\n\t\t\t\tif (filter.value.hasOwnProperty('id')) {\r\n\t\t\t\t\tfilters[filter.key] = filter.value.id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfilters[filter.key] = filter.value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// Fetch data and emit update to parent\r\n\t\t\tconst response = await this.$api('api/projects/filter' , 'GET', filters);\r\n\t\t\tthis.$emit('update', response.data);\r\n\t\t\tthis.$store.commit('util/disableLoader');\r\n\t\t},\r\n\t\tclearFilters() {\r\n\t\t\tthis.name = '';\r\n\t\t\tthis.meta = null;\r\n\t\t\tthis.filters = [];\r\n\t\t\tdocument.querySelectorAll('.filter-bar input').forEach(elem => elem.value = '');\r\n\t\t\tthis.$emit('reset');\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.filter-bar {\r\n\twidth: 100%;\r\n\tmargin-right: 30px;\r\n\tdisplay: grid;\r\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 300px));\r\n\tgap: 30px;\r\n\t&__clear {\r\n\t\tmax-width: 110px;\r\n\t\tpadding: 10px;\r\n\t\theight: 40px;\r\n\t}\r\n\t.form-item {\r\n\t\tmargin: 0;\r\n\t}\r\n\t.form-item label {\r\n\t\tfont-size: 0.001px;\r\n\t\tmargin: 0;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./FilterBar.vue?vue&type=template&id=09ad6884\"\nimport script from \"./FilterBar.vue?vue&type=script&lang=js\"\nexport * from \"./FilterBar.vue?vue&type=script&lang=js\"\n\nimport \"./FilterBar.vue?vue&type=style&index=0&id=09ad6884&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=fe23f2c4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=fe23f2c4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-fe23f2c4\"\n\nexport default script"],"sourceRoot":""}
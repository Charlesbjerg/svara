(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12cf7c75"],{"0780":function(e,t,a){},"13c5":function(e,t,a){"use strict";a("144b")},"144b":function(e,t,a){},"260d":function(e,t,a){"use strict";a("bd2b")},"4b89":function(e,t,a){"use strict";a("b0c0");var c=a("7a23"),r={class:"board-card__icons"},n={key:0,class:"board-card__icon"},o=Object(c["createVNode"])("i",{class:"far fa-clock mr-5"},null,-1);function s(e,t,a,s,d,i){var u=Object(c["resolveDirective"])("focus");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"board-card",onClick:t[5]||(t[5]=function(){return i.openCard&&i.openCard.apply(i,arguments)})},[d.edit?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"text",name:"cardname",class:"board-card__input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.card.name=e}),onBlur:t[2]||(t[2]=function(){return i.nameUpdated&&i.nameUpdated.apply(i,arguments)}),onKeyup:t[3]||(t[3]=Object(c["withKeys"])((function(){return i.nameUpdated&&i.nameUpdated.apply(i,arguments)}),["enter"])),autocomplete:"off",placeholder:"Card Name"},null,544)),[[c["vModelText"],a.card.name],[u]]):(Object(c["openBlock"])(),Object(c["createBlock"])("span",{key:1,class:"board-card__title",onClick:t[4]||(t[4]=function(){return i.editName&&i.editName.apply(i,arguments)})},Object(c["toDisplayString"])(a.card.name),1)),Object(c["createVNode"])("div",r,[a.card.updatedAt?(Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[o,Object(c["createTextVNode"])(" "+Object(c["toDisplayString"])(e.$timeDifference(a.card.updatedAt)),1)])):Object(c["createCommentVNode"])("",!0)])])}a("c740"),a("a9e3");var d=a("5530"),i=(a("96cf"),a("1da1")),u={name:"BoardCard",props:{card:{required:!0,type:Object},columnId:{required:!1,type:Number}},data:function(){return{init:!0,edit:!1}},mounted:function(){""===this.card.name&&(this.edit=!0,this.init=!1),this.$nextTick((function(){this.edit&&this.$el.children[0].focus()}))},methods:{openCard:function(){this.init&&this.$store.commit("entities/setOpenCard",this.card)},editName:function(){this.init||(this.edit=!0)},nameUpdated:function(){""!==this.card.name&&(this.edit=!1,this.init=!0,this.saveCard())},saveCard:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/projects/pipeline/boards/card","POST",Object(d["a"])(Object(d["a"])({},e.card),{},{sortOrder:e.index()}));case 2:a=t.sent,e.$store.commit("entities/updateNewCard",{column:e.columnId,data:a.data});case 4:case"end":return t.stop()}}),t)})))()},index:function(){var e=this,t=this.$store.state.entities.board.data.columns.findIndex((function(t){return t.id===e.columnId}));return this.$store.state.entities.board.data.columns[t].cards.findIndex((function(e){return null===e.id}))}},directives:{focus:{inserted:function(e){e.focus()}}}};a("13c5");u.render=s;t["a"]=u},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var c=a("1d80"),r=a("5899"),n="["+r+"]",o=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),d=function(e){return function(t){var a=String(c(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(e,t,a){var c=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var n,o;return r&&"function"==typeof(n=t.constructor)&&n!==a&&c(o=n.prototype)&&o!==a.prototype&&r(e,o),e}},7277:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),r={class:"dashboard"};function n(e,t,a,n,o,s){var d=Object(c["resolveComponent"])("page-head"),i=Object(c["resolveComponent"])("client-dashboard"),u=Object(c["resolveComponent"])("staff-dashboard");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(d,{title:"Welcome back, ".concat(s.name,"!")},null,8,["title"]),3===s.user.typeId?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0})):(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:1}))])}var o=a("4a6a"),s=Object(c["withScopeId"])("data-v-4bc9be92");Object(c["pushScopeId"])("data-v-4bc9be92");var d={key:0,class:"dashboard__section"},i=Object(c["createVNode"])("h2",null,"Ongoing Projects",-1),u={class:"card-grid"},l={class:"dashboard__section--split"},b={class:"info-area"},p={key:0},j=Object(c["createVNode"])("h2",null,"Outstanding Tasks",-1),O={class:"card-grid"};Object(c["popScopeId"])();var f=s((function(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("project-card"),f=Object(c["resolveComponent"])("task-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[n.dashboard.hasOwnProperty("projects")&&n.dashboard.projects.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",d,[i,Object(c["createVNode"])("div",u,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:t,project:e},null,8,["project"])})),128))])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",l,[Object(c["createVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.info,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"info-card",key:t},[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(e.key),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.value),1)])})),128))]),n.dashboard.hasOwnProperty("cards")&&n.dashboard.cards.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",p,[j,Object(c["createVNode"])("div",O,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.cards,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:t,task:e},null,8,["task"])})),128))])])):Object(c["createCommentVNode"])("",!0)])])})),m=(a("96cf"),a("1da1")),h={class:"task-card"};function k(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("article",h,[Object(c["createVNode"])(s,{to:"/projects/entity/".concat(a.task.board.pipelineEntityId)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(a.task.name),1),Object(c["createVNode"])("p",null,"Last updated on "+Object(c["toDisplayString"])(e.$dateFormatter(a.task.updatedAt,!1)),1),Object(c["createVNode"])("p",null,"From: "+Object(c["toDisplayString"])(a.task.column.name)+" in "+Object(c["toDisplayString"])(a.task.board.name),1)]})),_:1},8,["to"])])}var v={name:"task-card",props:{task:{type:Object,required:!0}}};a("96fc");v.render=k;var g=v,N=a("4b89"),B=a("009a"),y={name:"ClientDashboard",components:{TaskCard:g,BoardCard:N["a"],ProjectCard:B["a"]},data:function(){return{dashboard:{}}},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/dashboard/staff");case 2:a=t.sent,e.dashboard=a.data;case 4:case"end":return t.stop()}}),t)})))()}};y.render=f,y.__scopeId="data-v-4bc9be92";var _=y,C={class:"client-dashboard"},V={class:"client-dashboard__threads panel"},I=Object(c["createVNode"])("h2",null,"Messages",-1),w={class:"message-card__content"},S={class:"message-card__title"},x={class:"message-card__project"},D={class:"message-card__date"},$={class:"message-card__count"},E=Object(c["createVNode"])("i",{class:"far fa-comments ml-5"},null,-1),A={key:0,class:"dashboard__section"},F=Object(c["createVNode"])("h2",null,"Ongoing Projects",-1),T={class:"card-grid"};function P(e,t,a,r,n,o){var s=Object(c["resolveComponent"])("router-link"),d=Object(c["resolveComponent"])("project-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",C,[Object(c["createVNode"])("div",V,[I,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.messages,(function(t,a){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"message-card",key:a},[Object(c["createVNode"])(s,{to:"/projects/".concat(t.project_id,"?panel=messages"),class:"message-card__inner"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",w,[Object(c["createVNode"])("strong",S,Object(c["toDisplayString"])(t.title),1),Object(c["createVNode"])("p",x,Object(c["toDisplayString"])(t.name),1),Object(c["createVNode"])("em",D,"Last updated: "+Object(c["toDisplayString"])(e.$dateFormatter(t.updated_at)),1)]),Object(c["createVNode"])("span",$,[Object(c["createTextVNode"])(Object(c["toDisplayString"])(t.messageCount)+" ",1),E])]})),_:2},1032,["to"])])})),128))]),n.dashboard.hasOwnProperty("projects")&&n.dashboard.projects.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",A,[F,Object(c["createVNode"])("div",T,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:t,project:e},null,8,["project"])})),128))])])):Object(c["createCommentVNode"])("",!0)])}var U={name:"StaffDashboard",components:{TaskCard:g,BoardCard:N["a"],ProjectCard:B["a"]},data:function(){return{dashboard:{}}},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/dashboard/client");case 2:a=t.sent,e.dashboard=a.data,console.log(a.data);case 5:case"end":return t.stop()}}),t)})))()}};a("260d");U.render=P;var L=U,R={name:"Dashboard",components:{ClientDashboard:L,StaffDashboard:_,PageHead:o["a"]},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){console.log(this.$store.state.auth.user)}};a("ae07");R.render=n;t["default"]=R},8836:function(e,t,a){},"96fc":function(e,t,a){"use strict";a("0780")},a9e3:function(e,t,a){"use strict";var c=a("83ab"),r=a("da84"),n=a("94ca"),o=a("6eeb"),s=a("5135"),d=a("c6b6"),i=a("7156"),u=a("c04e"),l=a("d039"),b=a("7c73"),p=a("241c").f,j=a("06cf").f,O=a("9bf2").f,f=a("58a8").trim,m="Number",h=r[m],k=h.prototype,v=d(b(k))==m,g=function(e){var t,a,c,r,n,o,s,d,i=u(e,!1);if("string"==typeof i&&i.length>2)if(i=f(i),t=i.charCodeAt(0),43===t||45===t){if(a=i.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(i.charCodeAt(1)){case 66:case 98:c=2,r=49;break;case 79:case 111:c=8,r=55;break;default:return+i}for(n=i.slice(2),o=n.length,s=0;s<o;s++)if(d=n.charCodeAt(s),d<48||d>r)return NaN;return parseInt(n,c)}return+i};if(n(m,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var N,B=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof B&&(v?l((function(){k.valueOf.call(a)})):d(a)!=m)?i(new h(g(t)),a,B):g(t)},y=c?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;y.length>_;_++)s(h,N=y[_])&&!s(B,N)&&O(B,N,j(h,N));B.prototype=k,k.constructor=B,o(r,m,B)}},ae07:function(e,t,a){"use strict";a("8836")},bd2b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-12cf7c75.c6300118.js.map
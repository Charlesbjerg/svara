{"version":3,"sources":["webpack:///./src/components/projects/Autocomplete.vue","webpack:///./src/components/projects/Autocomplete.vue?8d72","webpack:///./src/components/projects/Autocomplete.vue?f8f1"],"names":["class","for","label","type","name","searchTerm","id","findItem","ref","autocomplete","placeholder","results","length","item","searchKey","selectItem","props","url","required","String","filterKey","data","searchKeyupTimeout","methods","clearTimeout","setTimeout","$api","response","this","$emit","key","value","render"],"mappings":"+IACMA,MAAM,qC,SASLA,MAAM,gB,GAGHA,MAAM,sB,EACZ,yBAAmC,KAAhCA,MAAM,uBAAqB,S,wDAbjC,yBAgBM,MAhBN,EAgBM,CAfL,yBAAkD,SAA1CC,IAAG,UAAK,EAAAC,MAAL,W,6BAAuB,EAAAA,OAAK,W,4BACvC,yBAMyC,SANlCC,KAAK,OAAOC,KAAK,a,qDACX,EAAAC,WAAU,IAClBC,GAAE,UAAK,EAAAJ,MAAL,UACF,QAAK,8BAAE,EAAAK,UAAA,EAAAA,SAAA,qBACRC,IAAI,cACJC,aAAa,MACZC,YAAW,oBAAe,EAAAR,Q,gDALlB,EAAAG,cAMiC,IAAd,EAAAM,QAAQC,Q,yBAAxC,yBAMM,MANN,EAMM,E,2BALL,yBAIU,2CAJ2C,EAAAD,SAAO,SAAfE,G,gCAA7C,yBAIU,WAJDb,MAAM,uBAAgDc,UAAWD,EAAKP,GAC3E,QAAK,mBAAE,EAAAS,WAAWF,K,CACrB,yBAAuD,OAAvD,EAAuD,6BAAnBA,EAAKT,MAAI,GAC7C,G,0GAOW,GACdA,KAAM,eACNY,MAAO,CAENC,IAAK,CACJC,UAAU,EACVf,KAAMgB,QAGPjB,MAAO,CACNgB,UAAU,EACVf,KAAMgB,QAGPL,UAAW,CACVI,UAAU,EACVf,KAAMgB,QAGPC,UAAW,CACVF,UAAU,EACVf,KAAMgB,SAGRE,KAxBc,WAyBb,MAAO,CACNhB,WAAY,GACZiB,mBAAoB,KACpBX,QAAS,KAGXY,QAAS,CACFhB,SADE,WACS,+JAChBiB,aAAa,EAAKF,oBADF,SAEgBG,WAAU,wCAAC,6GACpCJ,EAAO,GACbA,EAAK,EAAKP,WAAa,EAAKT,WAFc,SAGnB,EAAKqB,KAAK,EAAKT,IAAK,MAAOI,GAHR,OAGpCM,EAHoC,OAI1C,EAAKhB,QAAUgB,EAASN,KAJkB,2CAKxC,KAPa,OAEhB,EAAKC,mBAFW,qDASjBP,WAVQ,SAUGF,GACVe,KAAKvB,WAAaQ,EAAKT,KACvBwB,KAAKC,MAAM,WAAY,CAAEC,IAAKF,KAAKR,UAAWW,MAAOlB,IACrDe,KAAKjB,QAAU,M,UC5DlB,EAAOqB,OAASA,EAED,U,kCCPf,W","file":"js/chunk-552c1c1a.a25dfec4.js","sourcesContent":["<template>\r\n\t<div class=\"form-item form-item--autocomplete\">\r\n\t\t<label :for=\"`${label}Search`\">{{ label }}</label>\r\n\t\t<input type=\"text\" name=\"itemSearch\"\r\n\t\t\t   v-model=\"searchTerm\"\r\n\t\t\t   :id=\"`${label}Search`\"\r\n\t\t\t   @keyup=\"findItem\"\r\n\t\t\t   ref=\"searchInput\"\r\n\t\t\t   autocomplete=\"off\"\r\n\t\t\t   :placeholder=\"`Search by ${label}`\"/>\r\n\t\t<div class=\"autocomplete\" v-if=\"results.length !== 0\">\r\n\t\t\t<article class=\"autocomplete__result\" v-for=\"item in results\" :searchKey=\"item.id\"\r\n\t\t\t\t\t @click=\"selectItem(item)\">\r\n\t\t\t\t<span class=\"autocomplete__name\">{{ item.name }}</span>\r\n\t\t\t\t<i class=\"far fa-check-circle\"></i>\r\n\t\t\t</article>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"Autocomplete\",\r\n\tprops: {\r\n\t\t// URL used for querying the API (eg api/clients/search)\r\n\t\turl: {\r\n\t\t\trequired: true,\r\n\t\t\ttype: String,\r\n\t\t},\r\n\t\t// Label for the entity (eg Client)\r\n\t\tlabel: {\r\n\t\t\trequired: true,\r\n\t\t\ttype: String,\r\n\t\t},\r\n\t\t// Key that will be searched by (eg name)\r\n\t\tsearchKey: {\r\n\t\t\trequired: true,\r\n\t\t\ttype: String,\r\n\t\t},\r\n\t\t// The searchKey used when the data is returned (eg accountManager)\r\n\t\tfilterKey: {\r\n\t\t\trequired: true,\r\n\t\t\ttype: String,\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearchTerm: '',\r\n\t\t\tsearchKeyupTimeout: null,\r\n\t\t\tresults: [],\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync findItem() {\r\n\t\t\tclearTimeout(this.searchKeyupTimeout);\r\n\t\t\tthis.searchKeyupTimeout = await setTimeout(async () => {\r\n\t\t\t\tconst data = {};\r\n\t\t\t\tdata[this.searchKey] = this.searchTerm;\r\n\t\t\t\tconst response = await this.$api(this.url, 'GET', data);\r\n\t\t\t\tthis.results = response.data;\r\n\t\t\t}, 500);\r\n\t\t},\r\n\t\tselectItem(item) {\r\n\t\t\tthis.searchTerm = item.name;\r\n\t\t\tthis.$emit('selected', { key: this.filterKey, value: item });\r\n\t\t\tthis.results = [];\r\n\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.autocomplete {\r\n\tpadding: 20px 10px;\r\n\tbackground-color: #fff;\r\n\tposition: absolute;\r\n\ttop: calc(100% + 5px);\r\n\tleft: 0;\r\n\twidth: 100%;\r\n\tmax-width: 300px;\r\n\tz-index: 5;\r\n\tborder: 2px solid $grey;\r\n\tborder-radius: $border-radius;\r\n\t@include box-shadow-hover;\r\n\t&__result {\r\n\t\tmargin-bottom: 5px;\r\n\t\tborder-radius: $border-radius;\r\n\t\tpadding: 5px 10px;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\t@include transition-short;\r\n\t\t&:last-child {\r\n\t\t\tborder-bottom: 0;\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n\t&__result i {\r\n\t\topacity: 0;\r\n\t\tcolor: $accent-colour;\r\n\t\t@include transition-short;\r\n\t}\r\n\t&__name {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t&__result:hover {\r\n\t\tbackground-color: $light-grey;\r\n\t\ti {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./Autocomplete.vue?vue&type=template&id=76457497\"\nimport script from \"./Autocomplete.vue?vue&type=script&lang=js\"\nexport * from \"./Autocomplete.vue?vue&type=script&lang=js\"\n\nimport \"./Autocomplete.vue?vue&type=style&index=0&id=76457497&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Autocomplete.vue?vue&type=style&index=0&id=76457497&lang=scss\""],"sourceRoot":""}
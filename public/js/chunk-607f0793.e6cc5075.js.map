{"version":3,"sources":["webpack:///./src/views/Login.vue?471a","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?f1df"],"names":["class","ref","for","type","name","id","required","login","errorMessage","data","methods","e","preventDefault","$api","email","$refs","value","password","response","status","errors","Object","keys","forEach","elem","parentNode","classList","add","showError","message","$store","commit","user","$router","push","console","error","render"],"mappings":"kHAAA,W,4DCCMA,MAAM,mB,EAET,yBAAc,UAAV,SAAK,G,SACJA,MAAM,aAA6CC,IAAI,U,GAGvDD,MAAM,a,EACV,yBAAgC,SAAzBE,IAAI,SAAQ,SAAK,G,GACjBC,KAAK,QAAQC,KAAK,QAAQC,GAAG,QAAQJ,IAAI,QAAQK,SAAA,I,GAEpDN,MAAM,a,EACV,yBAAuC,SAAhCE,IAAI,YAAW,aAAS,G,GACxBC,KAAK,WAAWC,KAAK,WAAWC,GAAG,WAAWJ,IAAI,WAAWK,SAAA,I,GAEhEN,MAAM,iC,GACHE,IAAI,Y,GACHC,KAAK,WAAWC,KAAK,WAAWC,GAAG,WAAWJ,IAAI,Y,+BAAW,6B,EAItE,yBAAwD,UAAhDD,MAAM,6BAA4B,SAAK,G,wDApBjD,yBAsBM,MAtBN,EAsBM,CArBL,yBAoBO,QApBA,SAAM,8BAAE,EAAAO,OAAA,EAAAA,MAAA,qBAAOP,MAAM,a,CAC3B,EAC+C,K,KAAZQ,c,yBAAnC,yBAEM,MAFN,EAEM,CADL,yBAA8B,2CAAnBA,cAAY,I,6CAExB,yBAGM,MAHN,EAGM,CAFL,EACA,yBAAiE,QAAjE,EAAiE,YAElE,yBAGM,MAHN,EAGM,CAFL,EACA,yBAA6E,QAA7E,EAA6E,YAE9E,yBAKM,MALN,EAKM,CAJL,yBAGQ,QAHR,EAGQ,CAFP,yBAAoE,QAApE,EAAoE,U,MAItE,G,8DAMY,GACdJ,KAAM,QACNK,KAFc,WAGb,MAAO,CACND,aAAc,KAGhBE,QAAS,CACFH,MADE,SACII,GAAG,uKACdA,EAAEC,iBADY,SAIS,EAAKC,KAAK,iBAAkB,OAAQ,CAC1DC,MAAO,EAAKC,MAAMD,MAAME,MACxBC,SAAU,EAAKF,MAAME,SAASD,QANjB,OAIRE,EAJQ,OAUU,UAApBA,EAASC,QACNC,EAASC,OAAOC,KAAKJ,EAAST,KAAKW,QACzCA,EAAOG,SAAQ,SAAAC,GACd,EAAKT,MAAMS,GAAMC,WAAWC,UAAUC,IAAI,uBAE3C,EAAKC,UAAUV,EAASW,WAExB,EAAKC,OAAOC,OAAO,eAAgBb,EAAST,KAAKuB,MACjD,EAAKC,QAAQC,KAAK,eAlBL,8CAsBfN,UAvBQ,SAuBEC,GACTM,QAAQC,MAAR,qBAA4BP,O,UCrD/B,EAAOQ,OAASA,EAED,gB","file":"js/chunk-607f0793.e6cc5075.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=705e9923&lang=scss\"","<template>\r\n\t<div class=\"form-card-outer\">\r\n\t\t<form @submit=\"login\" class=\"form-card\">\r\n\t\t\t<h1>Login</h1>\r\n\t\t\t<div class=\"form-error\" v-if=\"this.errorMessage !== ''\" ref=\"errors\">\r\n\t\t\t\t<p>{{ this.errorMessage }}</p>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-item\">\r\n\t\t\t\t<label for=\"email\">Email</label>\r\n\t\t\t\t<input type=\"email\" name=\"email\" id=\"email\" ref=\"email\" required>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-item\">\r\n\t\t\t\t<label for=\"password\">Password:</label>\r\n\t\t\t\t<input type=\"password\" name=\"password\" id=\"password\" ref=\"password\" required>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"form-item form-item--checkbox\">\r\n\t\t\t\t<label for=\"remember\">\r\n\t\t\t\t\t<input type=\"checkbox\" name=\"remember\" id=\"remember\" ref=\"remember\">\r\n\t\t\t\t\tRemember me after login\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<button class=\"btn btn-default btn-block\">Login</button>\r\n\t\t</form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tname: \"Login\",\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\terrorMessage: '',\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tasync login(e) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t// Attempt user login\r\n\t\t\tconst response = await this.$api('api/auth/login', 'POST', {\r\n\t\t\t\temail: this.$refs.email.value,\r\n\t\t\t\tpassword: this.$refs.password.value,\r\n\t\t\t});\r\n\r\n\t\t\t// If 200 redirect home, otherwise show errors\r\n\t\t\tif (response.status === 'Error') {\r\n\t\t\t\tconst errors = Object.keys(response.data.errors);\r\n\t\t\t\terrors.forEach(elem => {\r\n\t\t\t\t\tthis.$refs[elem].parentNode.classList.add('form-item--error');\r\n\t\t\t\t})\r\n\t\t\t\tthis.showError(response.message);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$store.commit('auth/setUser', response.data.user);\r\n\t\t\t\tthis.$router.push('/dashboard');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tshowError(message) {\r\n\t\t\tconsole.error(`Big error: ${message}`);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.form-card-outer {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\theight: 100vh;\r\n}\r\n\r\n.form-card {\r\n\tborder-radius: $border-radius;\r\n\tpadding: 20px;\r\n\twidth: 400px;\r\n\t@include box-shadow;\r\n\r\n\th1 {\r\n\t\ttext-align: center;\r\n\t}\r\n}\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=705e9923\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=705e9923&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}
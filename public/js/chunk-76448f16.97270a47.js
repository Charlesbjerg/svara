(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76448f16"],{"0639":function(e,t,n){},"2b8d":function(e,t,n){},"35c3":function(e,t,n){"use strict";n("96d1")},"948c":function(e,t,n){"use strict";n("0639")},"96d1":function(e,t,n){},b777:function(e,t,n){"use strict";n("2b8d")},f331:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),r={class:"clients-index"},a={key:0},i={class:"filters"},o=Object(c["createTextVNode"])("Add New Client"),l={class:"grid"},s={key:1,class:"no-clients"},u=Object(c["createVNode"])("h2",{class:"no-clients__title"},"No clients have been setup!",-1),d=Object(c["createVNode"])("p",{class:"no-clients__message"},"Create your first now!",-1),b=Object(c["createTextVNode"])("Add a Client");function p(e,t,n,p,f,m){var j=Object(c["resolveComponent"])("PageHead"),O=Object(c["resolveComponent"])("client-filters"),h=Object(c["resolveComponent"])("router-link"),v=Object(c["resolveComponent"])("client-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(j,{title:"Clients",subtitle:m.pageSubtitle},null,8,["subtitle"]),m.hasClients?(Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[Object(c["createVNode"])("div",i,[Object(c["createVNode"])(O,{onUpdate:m.updateClients},null,8,["onUpdate"]),Object(c["createVNode"])(h,{to:"/clients/create",class:"btn btn-default"},{default:Object(c["withCtx"])((function(){return[o]})),_:1})]),Object(c["createVNode"])("section",l,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(f.clients,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(v,{key:t,client:e},null,8,["client"])})),128))])])):(Object(c["openBlock"])(),Object(c["createBlock"])("section",s,[u,d,Object(c["createVNode"])(h,{to:"/clients/create",class:"btn btn-default"},{default:Object(c["withCtx"])((function(){return[b]})),_:1})]))])}n("4fad"),n("96cf");var f=n("1da1"),m=n("5530"),j=n("4a6a"),O=(n("b0c0"),{class:"client-card"}),h={class:"client-card__body"},v={class:"client-card__client"},k={key:1,class:"client-card__logo logo-placeholder"},g={class:"client-card__content"},y={class:"client-card__name"},N={class:"client-card__subtitle"};function C(e,t,n,r,a,i){var o=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("article",O,[Object(c["createVNode"])(o,{to:i.clientUrl},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",h,[Object(c["createVNode"])("div",v,[i.clientLogo?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:i.clientLogo,alt:i.clientLogoAlt,class:"client-card__logo"},null,8,["src","alt"])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",k))]),Object(c["createVNode"])("div",g,[Object(c["createVNode"])("h2",y,Object(c["toDisplayString"])(n.client.name),1),Object(c["createVNode"])("span",N,Object(c["toDisplayString"])(n.client.totalNumberProject)+" projects in the pipeline",1)])])]})),_:1},8,["to"])])}var w={name:"ProjectCard",computed:{client:function(){return this.client.client},state:function(){return this.client.state.state},clientUrl:function(){return"/clients/".concat(this.client.id)},clientLogo:function(){return"http://app.svara.io:8000/".concat(this.client.logoPath)},clientLogoAlt:function(){return"Logo for ".concat(this.client.name)}},props:{client:{type:Object,required:!0}}};n("35c3");w.render=C;var B=w,V={class:"filter-bar"},_={class:"form-item"},x=Object(c["createVNode"])("label",{for:"name"},"Name",-1);function T(e,t,n,r,a,i){var o=Object(c["resolveComponent"])("autocomplete");return Object(c["openBlock"])(),Object(c["createBlock"])("div",V,[Object(c["createVNode"])("div",_,[x,Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",id:"name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.name=e}),placeholder:"Search by Client Name",onKeyup:t[2]||(t[2]=function(){return i.filterByName&&i.filterByName.apply(i,arguments)}),autocomplete:"off"},null,544),[[c["vModelText"],a.name]])]),Object(c["createVNode"])(o,{label:"Account Manager",url:"api/users/account-managers",filterKey:"accountManager",searchKey:"name",onSelected:i.addFilter},null,8,["onSelected"])])}n("c740"),n("4160"),n("159b");var L=n("1b5b"),R={name:"ClientFilters",components:{Autocomplete:L["a"]},data:function(){return{name:"",meta:null,filters:[],keyupTimeout:null}},methods:{filterByName:function(){var e=this;clearTimeout(this.keyupTimeout),this.keyupTimeout=setTimeout((function(){e.addFilter({key:"name",value:e.name})}),500)},addFilter:function(e){var t=this.filters.findIndex((function(t){return t.key===e.key}));-1!==t?this.filters[t].value=e.value:this.filters.push(e),this.filterResults()},filterResults:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("util/enableLoader"),n=[],e.filters.forEach((function(e){e.value.hasOwnProperty("id")?n[e.key]=e.value.id:n[e.key]=e.value})),t.next=5,e.$api("api/clients/filter","GET",n);case 5:c=t.sent,e.$emit("update",c.data),e.$store.commit("util/disableLoader");case 8:case"end":return t.stop()}}),t)})))()}}};n("b777");R.render=T;var S=R,$=n("5502"),A={name:"ClientsIndex",components:{ClientCard:B,PageHead:j["a"],ClientFilters:S},data:function(){return{clients:[]}},computed:Object(m["a"])(Object(m["a"])({},Object($["c"])({searchTerm:"clients/getSearchTerm"})),{},{pageSubtitle:function(){return"Your currently have ".concat(this.clients.length," clients")},hasClients:function(){return Object.entries(this.clients).length>0}}),mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick(Object(f["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("util/enableLoader"),t.next=3,e.$api("api/clients","GET");case 3:n=t.sent,e.clients=n.data,e.$store.commit("util/disableLoader");case 6:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},methods:{updateClients:function(e){this.clients=e}}};n("948c");A.render=p;t["default"]=A}}]);
//# sourceMappingURL=chunk-76448f16.97270a47.js.map
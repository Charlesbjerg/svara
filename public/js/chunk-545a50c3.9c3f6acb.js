(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-545a50c3"],{"0780":function(e,t,a){},"109d":function(e,t,a){"use strict";a("f41d")},2305:function(e,t,a){"use strict";a("52f2")},"4b89":function(e,t,a){"use strict";a("b0c0");var c=a("7a23"),r=Object(c["createVNode"])("div",{class:"board-card__icons"},[Object(c["createVNode"])("div",{class:"board-card__icon"},[Object(c["createVNode"])("i",{class:"far fa-images"}),Object(c["createTextVNode"])(" Int ")])],-1);function n(e,t,a,n,o,d){var s=Object(c["resolveDirective"])("focus");return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"board-card",onClick:t[4]||(t[4]=function(){return d.openCard&&d.openCard.apply(d,arguments)})},[o.edit?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("input",{key:0,type:"text",name:"cardname",class:"board-card__input","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.card.name=e}),onBlur:t[2]||(t[2]=function(){return d.nameUpdated&&d.nameUpdated.apply(d,arguments)}),autocomplete:"off",placeholder:"Card Name"},null,544)),[[c["vModelText"],a.card.name],[s]]):(Object(c["openBlock"])(),Object(c["createBlock"])("span",{key:1,class:"board-card__title",onClick:t[3]||(t[3]=function(){return d.editName&&d.editName.apply(d,arguments)})},Object(c["toDisplayString"])(a.card.name),1)),r])}a("96cf");var o=a("1da1"),d={name:"BoardCard",props:{card:{required:!0,type:Object}},data:function(){return{init:!0,edit:!1}},mounted:function(){this.$nextTick((function(){""===this.card.name&&(this.edit=!0,this.init=!1,this.$el.children[0].focus())}))},methods:{openCard:function(){this.init&&this.$store.commit("entities/setOpenCard",this.card)},editName:function(){this.init||(this.edit=!0)},nameUpdated:function(){""!==this.card.name&&(this.edit=!1,this.init=!0,this.saveCard())},saveCard:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/projects/pipeline/boards/card","POST",e.card);case 2:a=t.sent,e.card=a.data,e.$emit("reinit");case 5:case"end":return t.stop()}}),t)})))()}},directives:{focus:{inserted:function(e){e.focus()}}}};a("2305");d.render=n;t["a"]=d},"52f2":function(e,t,a){},7277:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),r={class:"dashboard"};function n(e,t,a,n,o,d){var s=Object(c["resolveComponent"])("page-head"),i=Object(c["resolveComponent"])("client-dashboard"),l=Object(c["resolveComponent"])("staff-dashboard");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(s,{title:"Welcome back, ".concat(d.name,"!")},null,8,["title"]),3===d.user.typeId?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0})):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1}))])}var o=a("009a"),d=a("4a6a"),s=a("4b89"),i={class:"task-card"};function l(e,t,a,r,n,o){var d=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("article",i,[Object(c["createVNode"])(d,{to:"/projects/entity/".concat(a.task.board.pipelineEntityId)},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(a.task.name),1),Object(c["createVNode"])("p",null,"Last updated on "+Object(c["toDisplayString"])(e.$dateFormatter(a.task.updatedAt,!1)),1),Object(c["createVNode"])("p",null,"From: "+Object(c["toDisplayString"])(a.task.column.name)+" in "+Object(c["toDisplayString"])(a.task.board.name),1)]})),_:1},8,["to"])])}var u={name:"task-card",props:{task:{type:Object,required:!0}}};a("96fc");u.render=l;var b=u,p=Object(c["withScopeId"])("data-v-00567d68");Object(c["pushScopeId"])("data-v-00567d68");var j={key:0,class:"dashboard__section"},O=Object(c["createVNode"])("h2",null,"Ongoing Projects",-1),h={class:"card-grid"},f={class:"dashboard__section--split"},k={class:"info-area"},m={key:0},v=Object(c["createVNode"])("h2",null,"Outstanding Tasks",-1),B={class:"card-grid"};Object(c["popScopeId"])();var y=p((function(e,t,a,r,n,o){var d=Object(c["resolveComponent"])("project-card"),s=Object(c["resolveComponent"])("task-card");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[n.dashboard.hasOwnProperty("projects")&&n.dashboard.projects.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",j,[O,Object(c["createVNode"])("div",h,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.projects,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(d,{key:t,project:e},null,8,["project"])})),128))])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",k,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.info,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"info-card",key:t},[Object(c["createVNode"])("h3",null,Object(c["toDisplayString"])(e.key),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(e.value),1)])})),128))]),n.dashboard.hasOwnProperty("cards")&&n.dashboard.cards.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("section",m,[v,Object(c["createVNode"])("div",B,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(n.dashboard.cards,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:t,task:e},null,8,["task"])})),128))])])):Object(c["createCommentVNode"])("",!0)])])})),g=(a("96cf"),a("1da1")),C={name:"ClientDashboard",components:{TaskCard:b,BoardCard:s["a"],ProjectCard:o["a"]},data:function(){return{dashboard:{}}},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api("api/dashboard");case 2:a=t.sent,e.dashboard=a.data;case 4:case"end":return t.stop()}}),t)})))()}};C.render=y,C.__scopeId="data-v-00567d68";var N=C,V=Object(c["withScopeId"])("data-v-6259928b");Object(c["pushScopeId"])("data-v-6259928b");var w=Object(c["createVNode"])("h2",null,"Client Dashboard",-1);Object(c["popScopeId"])();var _=V((function(e,t,a,r,n,o){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[w])})),S={name:"StaffDashboard"};S.render=_,S.__scopeId="data-v-6259928b";var D=S,I={name:"Dashboard",components:{ClientDashboard:D,StaffDashboard:N,PageHead:d["a"]},computed:{user:function(){return this.$store.state.auth.user},name:function(){var e;return null!==(e=this.user.name)&&void 0!==e?e:"User"}},mounted:function(){console.log(this.$store.state.auth.user)}};a("109d");I.render=n;t["default"]=I},"96fc":function(e,t,a){"use strict";a("0780")},f41d:function(e,t,a){}}]);
//# sourceMappingURL=chunk-545a50c3.9c3f6acb.js.map